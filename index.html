<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeautyWithMare | Luxury Beauty & Aesthetics</title>
    <meta name="description"
        content="Professional beauty treatments including teeth whitening, powdered brows, and luxury facials. Licensed esthetician serving Pasadena, MD.">

    <!-- Optimized CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">

    <!-- Preload background image for faster mobile loading -->
    <link rel="preload" as="image" href="marybackgroundphoto.jpg">

    <!-- Square Web Payments SDK -->
    <script type="text/javascript" src="https://web.squarecdn.com/v1/square.js"></script>

    <!-- Google Analytics 4 - Replace GA_MEASUREMENT_ID with actual ID -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');

        // Track booking form submissions
        function trackBookingSubmission() {
            gtag('event', 'booking_form_submit', {
                'event_category': 'engagement',
                'event_label': 'booking_form'
            });
        }

        // Track gallery interactions
        function trackGalleryView(category) {
            gtag('event', 'gallery_view', {
                'event_category': 'engagement',
                'event_label': category
            });
        }
    </script>

    <!-- Facebook Pixel - Replace YOUR_PIXEL_ID with actual ID -->
    <script>
        !function (f, b, e, v, n, t, s) {
            if (f.fbq) return; n = f.fbq = function () {
                n.callMethod ?
                    n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
            n.queue = []; t = b.createElement(e); t.async = !0;
            t.src = v; s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
        }(window, document, 'script',
            'https://connect.facebook.net/en_US/fbevents.js');

        fbq('init', 'YOUR_PIXEL_ID');
        fbq('track', 'PageView');

        // Track booking attempts
        function trackBookingAttempt() {
            fbq('track', 'InitiateCheckout');
        }

        // Track service interests
        function trackServiceInterest(service) {
            fbq('track', 'ViewContent', {
                content_name: service,
                content_category: 'beauty_service'
            });
        }
    </script>
    <noscript>
        <img height="1" width="1" style="display:none"
            src="https://www.facebook.com/tr?id=YOUR_PIXEL_ID&ev=PageView&noscript=1" />
    </noscript>

    <!-- Enhanced SEO Meta Tags -->
    <meta property="og:title" content="BeautyWithMare | Luxury Beauty & Aesthetics">
    <meta property="og:description"
        content="Professional beauty treatments including teeth whitening, powdered brows, and luxury facials. Licensed esthetician serving Pasadena, MD.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://beautywithmare.com">
    <meta property="og:image" content="https://beautywithmare.com/marybackgroundphoto.jpg">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BeautyWithMare | Luxury Beauty & Aesthetics">
    <meta name="twitter:description"
        content="Professional beauty treatments including teeth whitening, powdered brows, and luxury facials.">
    <meta name="twitter:image" content="https://beautywithmare.com/marybackgroundphoto.jpg">

    <!-- Local Business Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BeautySalon",
        "name": "BeautyWithMare",
        "description": "Professional beauty treatments including teeth whitening, powdered brows, and luxury facials. Licensed esthetician serving Pasadena, MD.",
        "url": "https://beautywithmare.com",
        "telephone": "(443) 528-5571",
        "email": "beautywithmare@gmail.com",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Pasadena",
            "addressRegion": "MD",
            "addressCountry": "US"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "39.1526",
            "longitude": "-76.5097"
        },
        "openingHours": "Mo-Sa 09:00-18:00",
        "priceRange": "$85-$525",
        "image": "https://beautywithmare.com/marybackgroundphoto.jpg",
        "sameAs": [
            "https://www.instagram.com/beauty.with_mare/",
            "https://www.facebook.com/Beautywithmare"
        ],
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Beauty Services",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Professional Teeth Whitening",
                        "description": "Professional teeth whitening treatment for a brighter smile"
                    },
                    "price": "225",
                    "priceCurrency": "USD"
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Powder Brows",
                        "description": "Semi-permanent powder brow tattooing service"
                    },
                    "price": "525",
                    "priceCurrency": "USD"
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Lash Extensions",
                        "description": "Professional eyelash extension application"
                    },
                    "price": "225",
                    "priceCurrency": "USD"
                }
            ]
        }
    }
    </script>

    <style>
        :root {
            --primary: #9B59B6;
            --primary-dark: #8B47A1;
            --secondary: #BFA8D1;
            --dark: #2D2D2D;
            --accent: #B59BC7;
        }

        body {
            font-family: 'Inter', sans-serif;
        }

        h1,
        h2,
        h3,
        h4 {
            font-family: 'Playfair Display', serif;
        }

        .bg-primary {
            background-color: var(--primary);
        }

        .bg-secondary {
            background-color: var(--secondary);
        }

        .text-primary {
            color: var(--primary);
        }

        /* Custom purple classes using our exact color scheme */
        .bg-primary-light {
            background-color: var(--accent);
        }

        .border-primary-light {
            border-color: var(--accent);
        }

        .text-primary-icon {
            color: var(--primary);
        }

        .text-primary-dark {
            color: var(--primary-dark);
        }

        .text-primary-medium {
            color: #7B3F98;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-block;
            text-decoration: none;
        }

        .btn-primary:hover:not(:disabled) {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .btn-primary:disabled {
            background: #e5e7eb;
            color: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Ensure SVG icons are always visible */
        svg {
            display: inline-block !important;
            fill: currentColor !important;
        }

        /* Social media icon enhancements */
        .social-icon {
            transition: all 0.3s ease;
        }

        .social-icon:hover {
            transform: scale(1.1);
            filter: brightness(1.2);
        }

        /* Mobile - Clean and simple, no animations */
        @media (max-width: 768px) {

            /* Remove tap highlights and selections */
            * {
                -webkit-tap-highlight-color: transparent;
            }

            /* Clean, simple booking cards on mobile */
            .service-category-btn {
                transition: none;
            }

            .touch-btn {
                transition: none;
            }
        }

        /* Desktop hover effects only - use pointer media query for better detection */
        @media (hover: hover) and (pointer: fine) {
            .service-category-btn {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }

            .service-category-btn:hover {
                transform: scale(1.05);
                box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
                border-color: var(--hover-ring-color, inherit);
            }

            .service-category-btn:hover .absolute {
                opacity: 1 !important;
            }

            .service-category-btn:hover .ring-2 {
                --tw-ring-color: var(--hover-ring-color);
            }

            .service-category-btn:hover h3 {
                color: var(--hover-text-color) !important;
            }

            .service-category-btn:hover p {
                color: rgb(75 85 99) !important;
            }

            .service-category-btn:hover .opacity-0 {
                opacity: 1 !important;
            }
        }

        /* Touch devices - no animations, clean and simple */
        @media (hover: none) and (pointer: coarse) {
            .service-category-btn {
                transition: none;
            }

            .touch-btn {
                transition: none;
            }
        }

        /* Desktop button hover effects */
        @media (hover: hover) and (pointer: fine) {
            .touch-btn {
                transition: all 0.3s ease;
            }

            .touch-btn:hover:not(:disabled) {
                background: linear-gradient(to right, rgb(126 34 206), rgb(190 18 60));
                transform: scale(1.05);
                box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            }
        }

        .service-card {
            transition: all 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .booking-step {
            display: none;
        }

        .booking-step.active {
            display: block;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e5e7eb;
            color: #9ca3af;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            transition: all 0.3s;
        }

        .step.active .step-number {
            background: var(--primary);
            color: white;
        }

        .service-option {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .service-option:hover,
        .service-option.selected {
            border-color: #9B59B6 !important;
            background: rgba(155, 89, 182, 0.05);
        }

        .time-slot {
            padding: 0.75rem;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .time-slot:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .time-slot.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .time-slot.partially-booked {
            border: 2px solid #10b981;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        }

        .time-slot.partially-booked:hover {
            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
            border-color: #059669;
        }



        .calendar-day {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .calendar-day:hover:not(.disabled) {
            background: var(--secondary);
        }

        .calendar-day.selected {
            background: var(--primary);
            color: white;
        }

        .calendar-day.disabled {
            color: #cbd5e0;
            cursor: not-allowed;
        }

        .calendar-day.fully-booked {
            background: #fee2e2;
            color: #991b1b;
            border: 2px solid #fecaca;
            cursor: not-allowed;
            position: relative;
            opacity: 0.7;
        }

        .calendar-day.fully-booked::after {
            content: "🚫";
            position: absolute;
            top: -2px;
            right: -2px;
            font-size: 12px;
            background: #dc2626;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        .calendar-day.entire-day-blocked {
            background: #3f3f46;
            color: #e4e4e7;
            border: 2px solid #71717a;
            cursor: not-allowed;
            position: relative;
            opacity: 0.8;
        }

        .calendar-day.entire-day-blocked::after {
            content: "❌";
            position: absolute;
            top: -2px;
            right: -2px;
            font-size: 12px;
            background: #374151;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        .calendar-day.fully-booked:hover,
        .calendar-day.entire-day-blocked:hover {
            transform: none;
            background: inherit;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .booking-step {
                animation: slideIn 0.3s ease-in-out;
            }

            .calendar-day {
                width: 35px;
                height: 35px;
                font-size: 0.875rem;
            }

            .time-slot {
                padding: 0.5rem;
                font-size: 0.875rem;
            }

            .step-number {
                width: 35px;
                height: 35px;
                font-size: 0.875rem;
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .booking-step {
            animation: slideIn 0.3s ease-in-out;
        }

        /* Gallery Filter Styles */
        .gallery-filter {
            background: white;
            border: 2px solid #e5e7eb;
            color: #6b7280;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .gallery-filter:hover,
        .gallery-filter.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .gallery-item {
            opacity: 1;
            transform: scale(1);
            transition: all 0.4s ease;
        }

        .gallery-item.hidden {
            opacity: 0;
            transform: scale(0.8);
            position: absolute;
            visibility: hidden;
        }

        .gallery-image:hover {
            transform: scale(1.05);
        }

        /* Lightbox for gallery images */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .lightbox img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 12px;
        }

        .lightbox .close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }

        .hidden {
            display: none !important;
        }

        .service-category-btn.selected {
            border-color: #9B59B6 !important;
            background: rgba(155, 89, 182, 0.1);
        }

        /* Force desktop navigation to show */
        @media (min-width: 768px) {
            .desktop-nav {
                display: flex !important;
                align-items: center;
                gap: 2rem;
            }
        }

        .hero-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('hero.jpg') center 20%/cover no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* Fix for mobile/iPhone - background-attachment: fixed doesn't work on iOS */
        @media (max-width: 768px) {
            .hero-bg {
                background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('marybackgroundphoto.jpg?v=2') center 30%/cover no-repeat !important;
                background-attachment: scroll !important;
                min-height: 100vh;
                height: 100vh;
                width: 100vw;
                margin: 0;
                padding: 0;
                background-color: #2D2D2D;
            }
        }

        @media (max-width: 480px) {
            .hero-bg {
                background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('marybackgroundphoto.jpg?v=2') center 25%/cover no-repeat !important;
                height: 100vh;
                width: 100vw;
                margin: 0;
                padding: 0;
                background-color: #2D2D2D;
            }
        }

        /* Extra aggressive positioning for real mobile devices */
        @media screen and (max-device-width: 768px) {
            .hero-bg {
                background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('marybackgroundphoto.jpg?v=2') center 30%/cover no-repeat !important;
                height: 100vh;
                width: 100vw;
                margin: 0;
                padding: 0;
                background-color: #2D2D2D;
            }
        }

        @media screen and (max-device-width: 480px) {
            .hero-bg {
                background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('marybackgroundphoto.jpg?v=2') center 25%/cover no-repeat !important;
                height: 100vh;
                width: 100vw;
                margin: 0;
                padding: 0;
                background-color: #2D2D2D;
            }
        }

        /* Mobile gallery carousel header fixes */
        @media (max-width: 768px) {

            /* Category headers (top-left) - smaller and better positioned */
            .carousel-slide .absolute.top-4.left-4 {
                top: 8px !important;
                left: 8px !important;
                padding: 4px 8px !important;
            }

            .carousel-slide .absolute.top-4.left-4 h3 {
                font-size: 10px !important;
                line-height: 1.2 !important;
            }

            /* Video count header (top-center) - smaller */
            .carousel-slide .absolute.top-4.left-1\/2 {
                top: 8px !important;
                padding: 2px 8px !important;
            }

            .carousel-slide .absolute.top-4.left-1\/2 h3 {
                font-size: 9px !important;
            }

            /* Call-to-action boxes (top-right) - smaller and repositioned */
            .carousel-slide .absolute.top-4.right-4 {
                top: 8px !important;
                right: 8px !important;
                padding: 6px !important;
                max-width: 100px !important;
            }

            .carousel-slide .absolute.top-4.right-4 h4 {
                font-size: 8px !important;
                line-height: 1.1 !important;
                margin-bottom: 4px !important;
            }

            .carousel-slide .absolute.top-4.right-4 a {
                padding: 2px 6px !important;
                font-size: 8px !important;
            }
        }

        @media (max-width: 768px) {
            .fixed.bottom-4.right-4 {
                display: none !important;
            }
        }

        /* Mobile Menu Styles */
        #mobile-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 245, 252, 0.98) 100%);
            backdrop-filter: blur(20px);
            border-radius: 0 0 20px 20px;
            box-shadow: 0 10px 30px rgba(155, 89, 182, 0.15);
            border: 1px solid rgba(155, 89, 182, 0.1);
            border-top: none;
            z-index: 50;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: translateY(-20px);
            max-height: 0;
            overflow: hidden;
        }

        #mobile-menu.show {
            opacity: 1;
            transform: translateY(0);
            max-height: 400px;
        }

        /* Hamburger Menu Icon */
        #mobile-menu-btn {
            transition: all 0.3s ease;
            position: relative;
            z-index: 60;
            color: #9B59B6 !important;
            /* Always purple */
        }

        #mobile-menu-btn svg path {
            stroke: #9B59B6;
            /* Always purple stroke */
            stroke-width: 2px;
        }

        #mobile-menu-btn.active {
            color: #9B59B6;
        }

        #mobile-menu-btn.active svg path {
            stroke: #9B59B6;
            stroke-width: 2.5px;
        }

        #mobile-menu-btn:hover {
            color: #9B59B6;
            transform: scale(1.05);
        }

        /* Mobile Menu Links */
        #mobile-menu nav {
            padding: 20px 0 10px 0;
        }

        #mobile-menu a {
            display: block;
            padding: 12px 24px;
            margin: 4px 16px;
            color: #4a3d52;
            font-weight: 500;
            border-radius: 12px;
            transition: all 0.3s ease;
            text-decoration: none;
            position: relative;
        }

        #mobile-menu a:hover {
            background: linear-gradient(135deg, rgba(155, 89, 182, 0.1) 0%, rgba(142, 68, 173, 0.1) 100%);
            color: #7a5a96;
            transform: translateX(8px);
            box-shadow: 0 4px 15px rgba(155, 89, 182, 0.1);
        }

        #mobile-menu a::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 0;
            background: linear-gradient(to bottom, #9B59B6, #8E44AD);
            border-radius: 2px;
            transition: height 0.3s ease;
        }

        #mobile-menu a:hover::before {
            height: 20px;
        }

        /* Desktop - move text down below her face */
        .hero-text {
            padding-top: 420px !important;
            /* Increased from 320px to 420px */
            padding-bottom: 80px !important;
        }

        @media (max-width: 768px) {
            .hero-text {
                padding-top: 200px !important;
                padding-bottom: 60px !important;
            }
        }

        @media (max-width: 480px) {
            .hero-text {
                padding-top: 250px !important;
                padding-bottom: 40px !important;
            }
        }

        /* Raczniak Digital Branding */
        .rds-brand {
            position: fixed;
            bottom: 10px;
            right: 15px;
            background: rgba(0, 0, 0, 0.85);
            color: rgba(255, 255, 255, 0.8);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
            letter-spacing: 0.5px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 9999;
            transition: all 0.3s ease;
            cursor: default;
            user-select: none;
            white-space: nowrap;
        }

        .rds-brand:hover {
            background: rgba(0, 0, 0, 0.95);
            color: rgba(255, 255, 255, 0.95);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .rds-brand .brand-icon {
            display: inline-block;
            margin-right: 4px;
            font-size: 0.8rem;
        }

        /* Desktop - make more prominent */
        @media (min-width: 769px) {
            .rds-brand {
                font-size: 0.85rem;
                padding: 8px 16px;
                bottom: 15px;
                right: 20px;
            }
        }

        @media (max-width: 768px) {
            .rds-brand {
                bottom: 8px;
                right: 8px;
                padding: 4px 8px;
                font-size: 0.7rem;
            }
        }

        /* Google Reviews Section */
        .reviews-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 60px 20px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .reviews-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="dots" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23dots)"/></svg>') repeat;
            pointer-events: none;
        }

        .reviews-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }

        .reviews-stars {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #ffd700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .reviews-rating {
            font-size: 1.2rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .reviews-count {
            opacity: 0.9;
            margin-bottom: 30px;
            font-size: 1rem;
        }

        .reviews-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .reviews-subtitle {
            font-size: 1.2rem;
            opacity: 0.95;
            margin-bottom: 35px;
            line-height: 1.6;
        }

        .review-btn {
            display: inline-flex;
            align-items: center;
            background: white;
            color: #667eea;
            padding: 18px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            border: none;
            cursor: pointer;
        }

        .review-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.3);
            background: #f8f9fa;
            color: #5a67d8;
        }

        .review-btn-icon {
            margin-right: 12px;
            font-size: 1.3rem;
        }

        @media (max-width: 768px) {
            .reviews-section {
                padding: 40px 15px;
            }

            .reviews-title {
                font-size: 2rem;
            }

            .reviews-subtitle {
                font-size: 1rem;
            }

            .review-btn {
                padding: 15px 30px;
                font-size: 1rem;
            }
        }
    </style>
</head>

<body class="bg-white">

    <!-- Header -->
    <header class="fixed w-full bg-white/95 backdrop-blur-sm shadow-sm z-50 transition-all" id="header"
        style="display: block !important; visibility: visible !important;">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center relative">
            <div class="text-2xl font-bold text-gray-800">
                <span class="text-primary">Beauty</span>WithMare
            </div>

            <nav class="desktop-nav hidden md:flex items-center space-x-8">
                <a href="#services" class="text-gray-700 hover:text-primary transition-colors">Services</a>
                <a href="#about" class="text-gray-700 hover:text-primary transition-colors">About</a>
                <a href="#gallery" class="text-gray-700 hover:text-primary transition-colors">Gallery</a>
                <a href="#testimonials" class="text-gray-700 hover:text-primary transition-colors">Testimonials</a>
                <a href="#contact" class="text-gray-700 hover:text-primary transition-colors">Contact</a>
            </nav>

            <button class="md:hidden text-gray-700" id="mobile-menu-btn">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16">
                    </path>
                </svg>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div class="md:hidden" id="mobile-menu" style="display: none;">
            <nav>
                <a href="#services">Services</a>
                <a href="#about">About</a>
                <a href="#gallery">Gallery</a>
                <a href="#testimonials">Testimonials</a>
                <a href="#contact">Contact</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="relative min-h-screen flex items-center justify-center hero-bg">
        <div class="text-center text-white px-4 py-20 hero-text">
            <h1 class="text-3xl sm:text-4xl lg:text-6xl font-bold mb-4 sm:mb-6 leading-tight">Luxury Beauty & Aesthetics
            </h1>
            <p class="text-lg sm:text-xl mb-6 sm:mb-8 max-w-2xl mx-auto">Experience professional beauty treatments in a
                serene, luxurious
                environment</p>
            <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center">
                <a href="#booking" class="btn-primary w-full sm:w-auto text-center">Book Appointment</a>
                <a href="#services"
                    class="border-2 border-white text-white px-6 sm:px-8 py-3 rounded-full hover:bg-white hover:text-gray-800 transition-all w-full sm:w-auto text-center">Our
                    Services</a>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4" id="services">Our Services</h2>
                <p class="text-gray-600 max-w-2xl mx-auto mb-8">Professional beauty treatments by licensed esthetician
                    Mary</p>


            </div>

            <!-- Service Categories -->
            <div class="max-w-6xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6 mb-8">
                    <!-- Signature Services -->
                    <div class="service-category bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all">
                        <h4 class="text-xl font-bold mb-4 text-primary">Signature Services</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>Professional Teeth Whitening</span>
                                <span class="font-semibold text-primary">$225</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>Premium Waxing Service</span>
                                <span class="font-semibold text-primary">$185</span>
                            </div>
                            <div class="flex justify-between items-center py-2">
                                <span>Facial & Lash Bundle</span>
                                <span class="font-semibold text-primary">$195</span>
                            </div>
                        </div>
                    </div>

                    <!-- Facial Services -->
                    <div class="service-category bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all">
                        <h4 class="text-xl font-bold mb-4 text-primary">Facial Treatments</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>✨ Holistic Relaxation Package</span>
                                <span class="font-semibold text-primary">$115</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>✨ Ultimate Glow & Shape</span>
                                <span class="font-semibold text-primary">$190</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>Custom Facial (60 min)</span>
                                <span class="font-semibold text-primary">$125</span>
                            </div>
                            <div class="flex justify-between items-center py-2">
                                <span>Luxury Facial (90 min)</span>
                                <span class="font-semibold text-primary">$175</span>
                            </div>
                        </div>
                    </div>

                    <!-- Brow Services -->
                    <div class="service-category bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all">
                        <h4 class="text-xl font-bold mb-4 text-primary">Brow Services</h4>
                        <div class="space-y-3">
                            <div class="py-2 border-b border-gray-100">
                                <div class="flex justify-between items-center">
                                    <span class="font-medium">Powder Brows (2-Session Process)</span>
                                    <span class="font-semibold text-primary">$525 Total</span>
                                </div>
                                <div class="text-xs text-gray-500 mt-1">
                                    Initial Session: $400 • Touch-up (4-6 weeks): $125
                                </div>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>✨ Complete Brow Transformation</span>
                                <span class="font-semibold text-primary">$120</span>
                            </div>
                            <div class="flex justify-between items-center py-2">
                                <span>✨ Brow Refresh Express</span>
                                <span class="font-semibold text-primary">$85</span>
                            </div>
                        </div>
                    </div>

                    <!-- Lash Services -->
                    <div class="service-category bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all">
                        <h4 class="text-xl font-bold mb-4 text-primary">Lash Services</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>Lash Lift & Tint</span>
                                <span class="font-semibold text-primary">$115</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>Classic Wet Look</span>
                                <span class="font-semibold text-primary">$165</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>Volume Extensions</span>
                                <span class="font-semibold text-primary">$225+</span>
                            </div>
                            <div class="flex justify-between items-center py-2">
                                <span>Lash Fills</span>
                                <span class="font-semibold text-primary">$95+</span>
                            </div>
                        </div>
                    </div>

                    <!-- Body Waxing -->
                    <div class="service-category bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all">
                        <h4 class="text-xl font-bold mb-4 text-primary">Waxing Services</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>Full Body Wax</span>
                                <span class="font-semibold text-primary">$285</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>✨ Brazilian + Underarm Combo</span>
                                <span class="font-semibold text-primary">$115</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <span>Brazilian Wax</span>
                                <span class="font-semibold text-primary">$85</span>
                            </div>
                            <div class="flex justify-between items-center py-2">
                                <span>Full Leg Wax</span>
                                <span class="font-semibold text-primary">$95</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Single Book Now Button -->
                <div class="text-center mt-12">
                    <a href="#booking" class="btn-primary text-lg px-8 py-4">Book Your Appointment Now</a>
                    <p class="text-gray-600 mt-3">Ready to experience professional beauty treatments?</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Mary Section -->
    <section id="about" class="py-20 bg-secondary">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="order-2 lg:order-1">
                    <h2 class="text-4xl font-bold mb-6" id="about">Meet Mary</h2>
                    <div class="space-y-6 text-lg text-gray-700">
                        <p>Mary is a <strong>licensed esthetician</strong> with years of experience helping clients look
                            and feel their absolute best. Her passion for beauty and wellness shines through in every
                            treatment she provides.</p>

                        <p>Specializing in <strong>facial treatments, lash services, powder brows, and teeth
                                whitening</strong>, Mary combines technical expertise with genuine care to create
                            personalized experiences for each client.</p>

                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <h3 class="text-xl font-semibold mb-4 text-primary">Why Choose Mary?</h3>
                            <ul class="space-y-3">
                                <li class="flex items-center gap-3">
                                    <span class="w-2 h-2 bg-primary rounded-full"></span>
                                    <span>State-licensed esthetician with professional certification</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <span class="w-2 h-2 bg-primary rounded-full"></span>
                                    <span>Spotless, relaxing studio environment</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <span class="w-2 h-2 bg-primary rounded-full"></span>
                                    <span>Personalized treatments tailored to your needs</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <span class="w-2 h-2 bg-primary rounded-full"></span>
                                    <span>Professional-grade products and techniques</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <span class="w-2 h-2 bg-primary rounded-full"></span>
                                    <span>Passionate commitment to your beauty goals</span>
                                </li>
                            </ul>
                        </div>


                    </div>
                </div>

                <div class="order-1 lg:order-2">
                    <div class="relative">
                        <img src="certification.jpg" alt="Mary's Esthetician Certification"
                            class="w-full rounded-2xl shadow-xl">
                        <div class="absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-lg">
                            <div class="flex items-center gap-3">
                                <span class="text-3xl">🏆</span>
                                <div>
                                    <p class="font-semibold text-gray-800">Licensed Esthetician</p>
                                    <p class="text-sm text-gray-600">State Board Certified</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="py-20 bg-white">
        <section id="gallery" class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold mb-4">Real Results</h2>
                    <p class="text-gray-600 mb-8">Mary's amazing transformations - 20+ photos + 20 treatment videos</p>
                </div>

                <!-- Carousel Container -->
                <div class="relative max-w-6xl mx-auto">
                    <!-- Main Carousel -->
                    <div class="gallery-carousel-container relative bg-gray-100 rounded-2xl overflow-hidden shadow-xl"
                        style="height: 520px;">
                        <div class="gallery-carousel flex transition-transform duration-500 ease-in-out"
                            id="gallery-carousel">
                            <!-- Teeth Whitening Slide -->
                            <div class="carousel-slide min-w-full" data-category="teeth">
                                <div
                                    class="grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4 p-4 sm:p-6 pt-14 pb-20 overflow-y-auto max-h-[520px]">
                                    <div class="carousel-item">
                                        <img src="teeth-1.jpg" alt="Teeth whitening result"
                                            class="w-full h-auto object-contain rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Before & After</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="teeth-2.jpg" alt="Teeth whitening result"
                                            class="w-full h-auto object-contain rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Same Day Results</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="teeth-3.jpg" alt="Teeth whitening result"
                                            class="w-full h-auto object-contain rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Dramatic Change</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="teeth-4.jpg" alt="Teeth whitening result"
                                            class="w-full h-auto object-contain rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Professional Results</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="teeth-5.jpg" alt="Teeth whitening result"
                                            class="w-full h-auto object-contain rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Confident Smile</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="teeth-6.jpg" alt="Teeth whitening result"
                                            class="w-full h-auto object-contain rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Amazing Results</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="teeth-7.jpg" alt="Teeth whitening result"
                                            class="w-full h-auto object-contain rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Bright Smile</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="teeth-8.jpg" alt="Teeth whitening result"
                                            class="w-full h-auto object-contain rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Perfect White</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="teethwhiteningphot.jpg" alt="Beautiful teeth whitening transformation"
                                            class="w-full h-auto object-contain rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">New Results</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Brows Slide -->
                            <div class="carousel-slide min-w-full" data-category="brows">

                                <div
                                    class="grid grid-cols-2 sm:grid-cols-3 gap-4 p-6 pt-14 pb-8 overflow-y-auto max-h-[520px]">
                                    <div class="carousel-item">
                                        <img src="brow-2.jpg" alt="Powdered brows result"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Perfect Shape</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="brow-1.jpg" alt="Powdered brows result"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Natural Look</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="brow-3.jpg" alt="Powdered brows result"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Fuller Brows</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="brow-4.jpg" alt="Powdered brows result"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Defined Arch</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="brow-5.jpg" alt="Powdered brows result"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Beautiful Color</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="brow-6.jpg" alt="Powdered brows result"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Powder Effect</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="brows.jpg" alt="Beautiful brow transformation"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">New Brow Work</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="browsserviceimageuse.jpg" alt="Professional brow service"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Brow Service</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="browsimage.jpg" alt="Beautiful brows transformation"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Brows Transformation</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="browservicephoto.jpg" alt="Professional brow service result"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Service Result</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="browsphoto.jpg" alt="Detailed brow work"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Detailed Work</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="browshaping.jpg" alt="Expert brow shaping"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Expert Shaping</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="brow1.jpg" alt="Professional brow design"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Brow Design</p>
                                    </div>

                                </div>
                            </div>

                            <!-- Lash Extensions Slide -->
                            <div class="carousel-slide min-w-full" data-category="lashes">

                                <div
                                    class="grid grid-cols-2 sm:grid-cols-3 gap-4 p-6 pt-14 pb-8 overflow-y-auto max-h-[520px]">
                                    <div class="carousel-item">
                                        <img src="LASHPHOTOFORCATEGORY3.jpg" alt="Beautiful lash extensions"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Category Lashes</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="lashimage.jpg" alt="Professional lash work"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Lash Extensions</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="lashesssss.jpg" alt="Volume lash extensions"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Volume Lashes</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="lashes.jpg" alt="Classic lash extensions"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Volume Lashes</p>
                                    </div>

                                    <div class="carousel-item">
                                        <img src="lash+brow.jpg" alt="Lash and brow combo service"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Lash + Brow</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="lassssheeeees.jpg" alt="Beautiful lash extensions"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Gorgeous Lashes</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="lashequeen.jpg" alt="Queen-like lash extensions"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Lash Queen</p>
                                    </div>
                                    <div class="carousel-item">
                                        <img src="lashes22222.jpg" alt="Professional lash work"
                                            class="w-full aspect-[4/3] object-cover rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer">
                                        <p class="text-xs text-center mt-2 text-gray-600">Pro Lashes</p>
                                    </div>
                                </div>
                            </div>

                            <!-- More Services & Results Slide -->
                            <div class="carousel-slide min-w-full" data-category="more-services">
                                <div
                                    class="flex flex-col items-center justify-center h-full p-4 sm:p-8 pt-12 sm:pt-16 overflow-y-auto max-h-[480px]">
                                    <!-- Section Description -->
                                    <div class="text-center mb-6 px-4">
                                        <p class="text-gray-600 text-sm">Unique wellness treatments for complete
                                            relaxation and care</p>
                                    </div>
                                    <!-- Service Preview Grid -->
                                    <div class="grid grid-cols-2 gap-6 w-full max-w-lg">

                                        <div class="text-center bg-white/50 p-4 rounded-lg">
                                            <div class="w-20 h-20 mx-auto mb-3 rounded-lg overflow-hidden">
                                                <img src="earcandlingservice.jpg" alt="Ear candling"
                                                    class="w-full h-full object-cover">
                                            </div>
                                            <p class="font-semibold text-gray-700">Ear Candling</p>
                                            <p class="text-xs text-gray-500">Relaxing Treatment</p>
                                        </div>
                                        <div class="text-center bg-white/50 p-4 rounded-lg">
                                            <div class="w-20 h-20 mx-auto mb-3 rounded-lg overflow-hidden">
                                                <img src="facialsphoto.jpg" alt="Facial treatments"
                                                    class="w-full h-full object-cover">
                                            </div>
                                            <p class="font-semibold text-gray-700">Facial Treatments</p>
                                            <p class="text-xs text-gray-500">Custom & Luxury</p>
                                        </div>
                                        <div class="text-center bg-white/50 p-4 rounded-lg">
                                            <div class="w-20 h-20 mx-auto mb-3 rounded-lg overflow-hidden">
                                                <img src="WAXINGservice.jpg" alt="Waxing service"
                                                    class="w-full h-full object-cover">
                                            </div>
                                            <p class="font-semibold text-gray-700">Waxing Services</p>
                                            <p class="text-xs text-gray-500">Professional Results</p>
                                        </div>
                                    </div>


                                </div>
                            </div>

                            <!-- Video Results Slide -->
                            <div class="carousel-slide min-w-full" data-category="videos">

                                <div class="grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 p-4 pt-16 pb-24 overflow-y-auto"
                                    style="max-height: 500px;">
                                    <!-- Lash Videos -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="lashes.jpg">
                                            <source src="lashes.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Lash Extensions
                                        </p>
                                    </div>

                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="LASHPHOTOFORCATEGORY3.jpg">
                                            <source src="lash lift.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Lash Lift</p>
                                    </div>

                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="lashtech1.jpg">
                                            <source src="precionlashes.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Precision Work</p>
                                    </div>

                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="volumelashes1.jpg">
                                            <source src="lashes2.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Volume Lashes
                                        </p>
                                    </div>

                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="volumelashes2.jpg">
                                            <source src="lashes3.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Volume Lashes</p>
                                    </div>

                                    <!-- Facial Videos -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="facialphoto1.jpg">
                                            <source src="facial.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Facial Treatment
                                        </p>
                                    </div>

                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="facialphoto2.jpg">
                                            <source src="facial2.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Custom Facial</p>
                                    </div>

                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="facialphoto3.jpg">
                                            <source src="facial3.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Luxury Facial</p>
                                    </div>

                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="facialphoto4.jpg">
                                            <source src="facialvid.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Facial Process</p>
                                    </div>

                                    <!-- Brow Videos -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="browwaxing.jpg">
                                            <source src="brow waxing.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Brow Waxing</p>
                                    </div>

                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="browwaxing1.jpg">
                                            <source src="browwax.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Brow Waxing</p>
                                    </div>

                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="volumelashes3.jpg">
                                            <source src="browdesign and wet look lashes.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Volume Lashes</p>
                                    </div>

                                    <!-- Combination Service -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="brow tint wax.jpg">
                                            <source src="lashlift, brow tint.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Brow Tint and Wax
                                        </p>
                                    </div>

                                    <!-- Waxing Video -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="WAXINGservice.jpg">
                                            <source src="waxing.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Waxing Service</p>
                                    </div>

                                    <!-- Specialty Service -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="earcandlingservice.jpg">
                                            <source src="earcandlingvideo.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Ear Candling</p>
                                    </div>

                                    <!-- Studio Tour -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="studiotour.jpg">
                                            <source src="studio tour.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Studio Tour</p>
                                    </div>

                                    <!-- Brow Video -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="Browtintandlam.jpg">
                                            <source src="browvideo.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Brow Tint and Lam
                                        </p>
                                    </div>

                                    <!-- Lash Extensions Video -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="volumelashes4.jpg">
                                            <source src="lasheeeeeeeeees.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Lash Extensions
                                        </p>
                                    </div>

                                    <!-- Lash Application -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="lashslideshow.jpg">
                                            <source src="lasheeeess.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Lashes
                                        </p>
                                    </div>

                                    <!-- New Treatment -->
                                    <div class="video-item">
                                        <video controls class="w-full rounded-lg shadow-md" style="max-height: 180px;"
                                            poster="volumelashes5.jpg">
                                            <source src="newvid1.mp4" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <p class="text-xs text-center mt-1 text-gray-700 font-medium">Volume Lashes
                                        </p>
                                    </div>

                                </div>


                            </div>
                        </div>

                        <!-- Navigation Arrows -->
                        <button
                            class="carousel-nav prev-btn absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-2 sm:p-3 rounded-full shadow-lg transition-all">
                            <svg class="w-4 h-4 sm:w-6 sm:h-6 text-gray-800" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7">
                                </path>
                            </svg>
                        </button>
                        <button
                            class="carousel-nav next-btn absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-2 sm:p-3 rounded-full shadow-lg transition-all">
                            <svg class="w-4 h-4 sm:w-6 sm:h-6 text-gray-800" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                                </path>
                            </svg>
                        </button>

                        <!-- Slide Indicator -->
                        <div
                            class="absolute bottom-16 left-1/2 -translate-x-1/2 bg-black/60 px-4 py-2 rounded-full text-white text-sm z-5">
                            <span id="slide-counter">1</span> of <span id="total-slides">5</span> Categories
                        </div>
                    </div>

                    <!-- Thumbnail Navigation -->
                    <div class="flex justify-center space-x-2 sm:space-x-4 mt-6 sm:mt-8 px-4">
                        <button class="thumb-nav active" data-slide="0">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-cover bg-center rounded-lg border-2 border-primary"
                                style="background-image: url('newdentalteethimage.jpg')"></div>
                            <p class="text-xs mt-1 sm:mt-2 font-semibold">Teeth Whitening</p>
                        </button>
                        <button class="thumb-nav" data-slide="1">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-cover bg-center rounded-lg border-2 border-gray-200"
                                style="background-image: url('brow-2.jpg')"></div>
                            <p class="text-xs mt-1 sm:mt-2">Brow Services</p>
                        </button>
                        <button class="thumb-nav" data-slide="2">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-cover bg-center rounded-lg border-2 border-gray-200"
                                style="background-image: url('LASHPHOTOFORCATEGORY3.jpg')"></div>
                            <p class="text-xs mt-1 sm:mt-2">Lash Extensions</p>
                        </button>
                        <button class="thumb-nav" data-slide="3">
                            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-cover bg-center rounded-lg border-2 border-gray-200"
                                style="background-image: url('facialsphoto.jpg')"></div>
                            <p class="text-xs mt-1 sm:mt-2">Wellness Services</p>
                        </button>
                        <button class="thumb-nav" data-slide="4">
                            <div
                                class="w-12 h-12 sm:w-16 sm:h-16 bg-gray-300 rounded-lg border-2 border-gray-200 flex items-center justify-center">
                                <svg class="w-6 h-6 sm:w-8 sm:h-8 text-gray-600" fill="currentColor"
                                    viewBox="0 0 20 20">
                                    <path d="M8 5v10l8-5-8-5z" />
                                </svg>
                            </div>
                            <p class="text-xs mt-1 sm:mt-2">20 Videos</p>
                        </button>
                    </div>
                </div>

                <!-- Instagram Call-to-Action -->
                <div class="text-center mt-12 mb-12">
                    <div
                        class="bg-gradient-to-br from-purple-50 to-pink-50 backdrop-blur-sm rounded-2xl p-8 max-w-lg mx-auto shadow-xl border-2 border-purple-200">
                        <h3 class="text-xl font-bold text-purple-800 mb-3">Want to see more of my work?</h3>
                        <p class="text-gray-700 mb-6">Follow me for daily transformations and beauty inspiration</p>
                        <a href="https://www.instagram.com/beauty.with_mare/" target="_blank"
                            class="inline-flex items-center justify-center gap-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-8 py-4 rounded-2xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 active:scale-95">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg" style="color: white !important;">
                                <path
                                    d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                            </svg>
                            Follow @beauty.with_mare
                        </a>
                        <p class="text-sm text-purple-700 mt-4 font-medium">Join 725+ followers for daily beauty
                            content</p>
                    </div>
                </div>

                <div class="text-center mt-12">
                    <p class="text-lg font-semibold text-gray-700 mb-2">Ready to see YOUR transformation?</p>
                    <p class="text-gray-600 mb-6">Every amazing result started with one appointment!</p>
                    <a href="#booking" class="btn-primary inline-flex items-center">
                        Book Your Appointment
                        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                            </path>
                        </svg>
                    </a>
                    <p class="text-sm text-gray-500 mt-4">Join our growing family of satisfied clients!</p>
                </div>
            </div>
        </section>



        <!-- FAQ Section -->
        <section id="faq" class="py-20 bg-gray-50">
            <div class="max-w-4xl mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold mb-4">Frequently Asked Questions</h2>
                    <p class="text-gray-600 text-lg">Everything you need to know about our beauty services</p>
                </div>

                <div class="space-y-6">
                    <!-- FAQ Item 1 -->
                    <div class="faq-item bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300">
                        <button
                            class="faq-question w-full text-left p-6 flex justify-between items-center focus:outline-none"
                            onclick="toggleFAQ(1)">
                            <h3 class="text-lg font-semibold text-gray-800 pr-4">How long does teeth whitening take and
                                how long do results last?</h3>
                            <svg class="faq-icon w-6 h-6 text-primary transition-transform duration-300" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-answer hidden px-6 pb-6">
                            <p class="text-gray-600 leading-relaxed">Our professional teeth whitening treatment takes
                                approximately 60-90 minutes. Results typically last 6-12 months with proper care,
                                including avoiding staining foods/drinks and maintaining good oral hygiene. We provide
                                aftercare instructions to help maximize your results.</p>
                        </div>
                    </div>

                    <!-- FAQ Item 2 -->
                    <div class="faq-item bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300">
                        <button
                            class="faq-question w-full text-left p-6 flex justify-between items-center focus:outline-none"
                            onclick="toggleFAQ(2)">
                            <h3 class="text-lg font-semibold text-gray-800 pr-4">What's included in the Powder Brows
                                2-session process?</h3>
                            <svg class="faq-icon w-6 h-6 text-primary transition-transform duration-300" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-answer hidden px-6 pb-6">
                            <p class="text-gray-600 leading-relaxed">The complete Powder Brows process includes: Initial
                                consultation and design ($400), numbing for comfort, professional pigment application,
                                healing instructions, and a mandatory touch-up session 4-6 weeks later ($125). This
                                2-step process ensures perfect color and shape retention lasting 1-3 years.</p>
                        </div>
                    </div>

                    <!-- FAQ Item 3 -->
                    <div class="faq-item bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300">
                        <button
                            class="faq-question w-full text-left p-6 flex justify-between items-center focus:outline-none"
                            onclick="toggleFAQ(3)">
                            <h3 class="text-lg font-semibold text-gray-800 pr-4">How often should I get lash extension
                                fills?</h3>
                            <svg class="faq-icon w-6 h-6 text-primary transition-transform duration-300" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-answer hidden px-6 pb-6">
                            <p class="text-gray-600 leading-relaxed">For optimal fullness, we recommend lash fills every
                                2-3 weeks. Natural lash cycles mean you'll lose 3-5 lashes daily. Regular fills maintain
                                your gorgeous look and are more cost-effective than complete new sets. We offer reminder
                                services to help you stay on schedule.</p>
                        </div>
                    </div>

                    <!-- FAQ Item 4 -->
                    <div class="faq-item bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300">
                        <button
                            class="faq-question w-full text-left p-6 flex justify-between items-center focus:outline-none"
                            onclick="toggleFAQ(4)">
                            <h3 class="text-lg font-semibold text-gray-800 pr-4">What should I expect during my first
                                facial appointment?</h3>
                            <svg class="faq-icon w-6 h-6 text-primary transition-transform duration-300" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-answer hidden px-6 pb-6">
                            <p class="text-gray-600 leading-relaxed">Your first facial includes a thorough skin
                                consultation to understand your concerns and goals. I'll analyze your skin type and
                                recommend the best treatment. The 60-90 minute session includes cleansing, exfoliation,
                                extractions if needed, a customized mask, and moisturizing. You'll leave with
                                personalized aftercare advice.</p>
                        </div>
                    </div>

                    <!-- FAQ Item 5 -->
                    <div class="faq-item bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300">
                        <button
                            class="faq-question w-full text-left p-6 flex justify-between items-center focus:outline-none"
                            onclick="toggleFAQ(5)">
                            <h3 class="text-lg font-semibold text-gray-800 pr-4">Do you require a deposit to book
                                appointments?</h3>
                            <svg class="faq-icon w-6 h-6 text-primary transition-transform duration-300" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-answer hidden px-6 pb-6">
                            <p class="text-gray-600 leading-relaxed">Yes, we require a 50% deposit to secure your
                                appointment. This ensures your time slot is reserved and helps reduce no-shows. Deposits
                                are applied to your service total and are non-refundable but can be transferred to
                                reschedule with 24-hour notice.</p>
                        </div>
                    </div>

                    <!-- FAQ Item 6 -->
                    <div class="faq-item bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300">
                        <button
                            class="faq-question w-full text-left p-6 flex justify-between items-center focus:outline-none"
                            onclick="toggleFAQ(6)">
                            <h3 class="text-lg font-semibold text-gray-800 pr-4">What's your cancellation and
                                rescheduling policy?</h3>
                            <svg class="faq-icon w-6 h-6 text-primary transition-transform duration-300" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-answer hidden px-6 pb-6">
                            <p class="text-gray-600 leading-relaxed"><strong>24-48 hours notice:</strong> 50% deposit
                                refund available. <strong>Less than 24 hours:</strong> Deposit is forfeited. All
                                cancellations must be made by calling or texting Mary directly at (443) 528-5571.
                                Emergency situations are handled case-by-case with understanding.</p>
                        </div>
                    </div>

                    <!-- FAQ Item 7 -->
                    <div class="faq-item bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300">
                        <button
                            class="faq-question w-full text-left p-6 flex justify-between items-center focus:outline-none"
                            onclick="toggleFAQ(7)">
                            <h3 class="text-lg font-semibold text-gray-800 pr-4">Are your treatments safe during
                                pregnancy or breastfeeding?</h3>
                            <svg class="faq-icon w-6 h-6 text-primary transition-transform duration-300" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-answer hidden px-6 pb-6">
                            <p class="text-gray-600 leading-relaxed">Most facials and lash services are safe during
                                pregnancy/breastfeeding. However, we don't recommend teeth whitening, powder brows, or
                                chemical peels during this time. I'm happy to discuss pregnancy-safe alternatives and
                                create a customized treatment plan that's perfect for this special time.</p>
                        </div>
                    </div>

                    <!-- FAQ Item 8 -->
                    <div class="faq-item bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300">
                        <button
                            class="faq-question w-full text-left p-6 flex justify-between items-center focus:outline-none"
                            onclick="toggleFAQ(8)">
                            <h3 class="text-lg font-semibold text-gray-800 pr-4">How should I prepare for my
                                appointment?</h3>
                            <svg class="faq-icon w-6 h-6 text-primary transition-transform duration-300" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-answer hidden px-6 pb-6">
                            <p class="text-gray-600 leading-relaxed">Arrive with clean skin (no makeup for
                                facials/brows). For lash services, remove all eye makeup and avoid caffeine to prevent
                                eye twitching. For teeth whitening, brush and floss beforehand. I'll provide specific
                                prep instructions when you book, tailored to your service.</p>
                        </div>
                    </div>
                </div>

                <div class="text-center mt-12">
                    <p class="text-gray-600 mb-6">Still have questions? I'm here to help!</p>
                    <a href="#contact" class="btn-primary inline-flex items-center">
                        Contact Mary
                        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z">
                            </path>
                        </svg>
                    </a>
                </div>
            </div>
        </section>

        <!-- Live Google Reviews Section -->
        <section id="live-reviews" class="py-20 bg-white">
            <div class="max-w-6xl mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold mb-4">What Our Clients Say</h2>
                    <div class="flex items-center justify-center mb-6">
                        <div class="flex text-yellow-400 text-2xl mr-4">
                            ★★★★★
                        </div>
                        <div class="text-xl font-semibold text-gray-800">4.9 out of 5 stars</div>
                    </div>
                    <p class="text-gray-600">Based on 50+ Google Reviews</p>
                </div>

                <!-- Reviews Carousel -->
                <div class="relative mb-12">
                    <!-- Navigation Buttons -->
                    <button id="prev-review"
                        class="absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-4 z-10 bg-white shadow-lg rounded-full p-3 hover:bg-gray-50 transition-all duration-300">
                        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                            </path>
                        </svg>
                    </button>
                    <button id="next-review"
                        class="absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-4 z-10 bg-white shadow-lg rounded-full p-3 hover:bg-gray-50 transition-all duration-300">
                        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                            </path>
                        </svg>
                    </button>

                    <!-- Carousel Container -->
                    <div class="overflow-hidden">
                        <div id="reviews-track" class="flex transition-transform duration-500 ease-in-out"
                            style="transform: translateX(0%);">

                            <!-- Review Card 1 -->
                            <div class="review-card flex-none w-full md:w-1/2 lg:w-1/3 px-3">
                                <div
                                    class="bg-gray-50 p-6 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 h-full">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-12 h-12 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                            J</div>
                                        <div class="ml-4">
                                            <h4 class="font-semibold text-gray-800">Jessica K.</h4>
                                            <div class="flex text-yellow-400 text-sm">★★★★★</div>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 leading-relaxed">"After chemotherapy, Mary helped me feel
                                        beautiful again with her amazing lash work. She goes above and beyond every
                                        single time!"</p>
                                    <div class="mt-4 text-sm text-gray-500">2 days ago • Google Review</div>
                                </div>
                            </div>

                            <!-- Review Card 2 -->
                            <div class="review-card flex-none w-full md:w-1/2 lg:w-1/3 px-3">
                                <div
                                    class="bg-gray-50 p-6 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 h-full">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-12 h-12 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                            C</div>
                                        <div class="ml-4">
                                            <h4 class="font-semibold text-gray-800">Cody R.</h4>
                                            <div class="flex text-yellow-400 text-sm">★★★★★</div>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 leading-relaxed">"As a guy, I was nervous about getting a
                                        facial and brow wax. Mary made it comfortable and professional. The acne
                                        treatment was incredible!"</p>
                                    <div class="mt-4 text-sm text-gray-500">1 week ago • Google Review</div>
                                </div>
                            </div>

                            <!-- Review Card 3 -->
                            <div class="review-card flex-none w-full md:w-1/2 lg:w-1/3 px-3">
                                <div
                                    class="bg-gray-50 p-6 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 h-full">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-12 h-12 bg-gradient-to-r from-green-400 to-teal-400 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                            A</div>
                                        <div class="ml-4">
                                            <h4 class="font-semibold text-gray-800">Amanda S.</h4>
                                            <div class="flex text-yellow-400 text-sm">★★★★★</div>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 leading-relaxed">"Mare is so good at what she does! My
                                        lashes are always flawless and my eyebrows have never looked better. I recommend
                                        her to everyone!"</p>
                                    <div class="mt-4 text-sm text-gray-500">3 weeks ago • Google Review</div>
                                </div>
                            </div>

                            <!-- Review Card 4 -->
                            <div class="review-card flex-none w-full md:w-1/2 lg:w-1/3 px-3">
                                <div
                                    class="bg-gray-50 p-6 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 h-full">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-12 h-12 bg-gradient-to-r from-pink-400 to-rose-400 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                            K</div>
                                        <div class="ml-4">
                                            <h4 class="font-semibold text-gray-800">Kaitlyn R.</h4>
                                            <div class="flex text-yellow-400 text-sm">★★★★★</div>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 leading-relaxed">"I drive almost an hour because I don't
                                        trust anyone else with my lashes! Mary is absolutely amazing and makes me feel
                                        like a baddie! 😍"</p>
                                    <div class="mt-4 text-sm text-gray-500">1 month ago • Google Review</div>
                                </div>
                            </div>

                            <!-- Review Card 5 -->
                            <div class="review-card flex-none w-full md:w-1/2 lg:w-1/3 px-3">
                                <div
                                    class="bg-gray-50 p-6 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 h-full">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-12 h-12 bg-gradient-to-r from-orange-400 to-red-400 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                            R</div>
                                        <div class="ml-4">
                                            <h4 class="font-semibold text-gray-800">Ryan J.</h4>
                                            <div class="flex text-yellow-400 text-sm">★★★★★</div>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 leading-relaxed">"Very professional! My teeth have never
                                        been whiter. Mary's attention to detail made the whole experience comfortable.
                                        Highly recommend!"</p>
                                    <div class="mt-4 text-sm text-gray-500">2 weeks ago • Google Review</div>
                                </div>
                            </div>

                            <!-- Review Card 6 -->
                            <div class="review-card flex-none w-full md:w-1/2 lg:w-1/3 px-3">
                                <div
                                    class="bg-gray-50 p-6 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 h-full">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-12 h-12 bg-gradient-to-r from-purple-400 to-blue-400 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                            B</div>
                                        <div class="ml-4">
                                            <h4 class="font-semibold text-gray-800">Brenda M.</h4>
                                            <div class="flex text-yellow-400 text-sm">★★★★★</div>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 leading-relaxed">"I've been getting lashes for 5+ years, but
                                        Mary is the best! If I could give 10 stars I would. She's passionate and
                                        knowledgeable beyond belief."</p>
                                    <div class="mt-4 text-sm text-gray-500">4 months ago • Google Review</div>
                                </div>
                            </div>

                            <!-- Review Card 7 -->
                            <div class="review-card flex-none w-full md:w-1/2 lg:w-1/3 px-3">
                                <div
                                    class="bg-gray-50 p-6 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 h-full">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-12 h-12 bg-gradient-to-r from-teal-400 to-cyan-400 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                            W</div>
                                        <div class="ml-4">
                                            <h4 class="font-semibold text-gray-800">Worth C.</h4>
                                            <div class="flex text-yellow-400 text-sm">★★★★★</div>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 leading-relaxed">"Every time I get my lashes done, eyebrows
                                        done or a facial I always have an amazing time. Mary always makes me feel so
                                        special!"</p>
                                    <div class="mt-4 text-sm text-gray-500">4 months ago • Google Review</div>
                                </div>
                            </div>

                            <!-- Review Card 8 -->
                            <div class="review-card flex-none w-full md:w-1/2 lg:w-1/3 px-3">
                                <div
                                    class="bg-gray-50 p-6 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 h-full">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-12 h-12 bg-gradient-to-r from-rose-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                            D</div>
                                        <div class="ml-4">
                                            <h4 class="font-semibold text-gray-800">Doodle B.</h4>
                                            <div class="flex text-yellow-400 text-sm">★★★★★</div>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 leading-relaxed">"I had Mary do my brows and my mom's. My
                                        mom is 70 years old and can't see to pluck her brows. Her brow color was
                                        perfect!"</p>
                                    <div class="mt-4 text-sm text-gray-500">4 months ago • Google Review</div>
                                </div>
                            </div>

                            <!-- Review Card 9 -->
                            <div class="review-card flex-none w-full md:w-1/2 lg:w-1/3 px-3">
                                <div
                                    class="bg-gray-50 p-6 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 h-full">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-12 h-12 bg-gradient-to-r from-amber-400 to-orange-400 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                            A</div>
                                        <div class="ml-4">
                                            <h4 class="font-semibold text-gray-800">Amy B.</h4>
                                            <div class="flex text-yellow-400 text-sm">★★★★★</div>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 leading-relaxed">"Absolutely LOVE Mary! She's performed
                                        eyelash extensions for me for almost two years now. My teenage daughter and I
                                        also see her for facials and eyebrows."</p>
                                    <div class="mt-4 text-sm text-gray-500">4 months ago • Google Review</div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- Dots Indicator -->
                    <div class="flex justify-center mt-8 space-x-2">
                        <button class="review-dot w-3 h-3 rounded-full bg-primary transition-all duration-300"></button>
                        <button
                            class="review-dot w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition-all duration-300"></button>
                        <button
                            class="review-dot w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition-all duration-300"></button>
                    </div>

                    <!-- Swipe Hint -->
                    <div class="text-center mt-4">
                        <p class="text-sm text-gray-500">← Swipe to see more reviews →</p>
                    </div>
                </div>

                <!-- Call to Action -->
                <div class="text-center">
                    <a href="https://www.google.com/maps/place/Beauty+With+Mare/@39.3647448,-76.3110853,17z/data=!4m8!3m7!1s0x89b7ff00764ba81b:0xac2de5b99e4ae96a!8m2!3d39.3647448!4d-76.3110853!9m1!1b1!16s%2Fg%2F11y5n95w7_?entry=ttu#lrd=0x89b"
                        target="_blank"
                        class="inline-flex items-center bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-8 py-4 rounded-full font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
                        <svg class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                            <path
                                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                            <path
                                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
                            <path
                                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
                        </svg>
                        Read All Google Reviews
                    </a>
                    <p class="text-sm text-gray-500 mt-4">See what our clients are saying about their transformations
                    </p>
                </div>
            </div>
        </section>

        <!-- Booking Section -->
        <section id="booking" class="py-20 bg-white">
            <div class="max-w-4xl mx-auto px-4">
                <div class="text-center mb-16">
                    <h2
                        class="text-4xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                        Book Your Appointment
                    </h2>
                    <p class="text-gray-600 text-lg">Easy 2-step booking process • Secure with 50% deposit</p>
                </div>

                <!-- Progress Steps -->
                <div class="flex justify-center mb-12">
                    <div class="flex items-center space-x-12">
                        <div class="step active flex flex-col items-center group" data-step="1">
                            <div
                                class="step-number w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold text-lg flex items-center justify-center shadow-lg mb-3 group-hover:shadow-xl transition-all duration-300">
                                1
                            </div>
                            <div class="text-sm font-semibold text-purple-700 whitespace-nowrap">Select Services</div>
                        </div>

                        <div
                            class="w-20 h-1 bg-gradient-to-r from-purple-300 to-pink-300 rounded-full relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 transform -translate-x-full transition-transform duration-500"
                                id="progress-bar"></div>
                        </div>

                        <div class="step flex flex-col items-center group" data-step="2">
                            <div
                                class="step-number w-12 h-12 rounded-full bg-gray-200 text-gray-500 font-bold text-lg flex items-center justify-center shadow-md mb-3 transition-all duration-300">
                                2
                            </div>
                            <div class="text-sm font-medium text-gray-500 whitespace-nowrap">Book & Pay</div>
                        </div>
                    </div>
                </div>

                <!-- Powder Brows Important Notice -->
                <div
                    class="bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 p-8 rounded-2xl mb-8 max-w-3xl mx-auto shadow-lg">
                    <div class="flex items-start space-x-4">
                        <div class="flex-shrink-0">
                            <svg class="w-8 h-8 text-purple-600 mt-1" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                                    clip-rule="evenodd" />
                            </svg>
                        </div>
                        <div class="flex-1">
                            <h4 class="text-2xl font-bold text-purple-800 mb-6">
                                Powder Brows - How It Works
                            </h4>

                            <div class="space-y-6">
                                <p class="text-lg font-semibold text-purple-700 mb-6">
                                    Two separate appointments required for perfect results:
                                </p>

                                <div class="grid gap-4 md:grid-cols-2">
                                    <div
                                        class="bg-white p-6 rounded-xl shadow-sm border border-purple-100 hover:shadow-md cursor-pointer">
                                        <div class="flex items-center justify-between mb-3">
                                            <span
                                                class="text-sm font-medium text-purple-600 bg-purple-50 px-3 py-1 rounded-full">Step
                                                1</span>
                                            <span class="text-2xl font-bold text-purple-800">$400</span>
                                        </div>
                                        <h5 class="text-lg font-bold text-gray-800 mb-2">Initial Session</h5>
                                        <p class="text-sm text-gray-600">Book now to begin your transformation</p>
                                    </div>

                                    <div
                                        class="bg-white p-6 rounded-xl shadow-sm border border-purple-100 hover:shadow-md cursor-pointer">
                                        <div class="flex items-center justify-between mb-3">
                                            <span
                                                class="text-sm font-medium text-purple-600 bg-purple-50 px-3 py-1 rounded-full">Step
                                                2</span>
                                            <span class="text-2xl font-bold text-purple-800">$125</span>
                                        </div>
                                        <h5 class="text-lg font-bold text-gray-800 mb-2">Touch-up Session</h5>
                                        <p class="text-sm text-gray-600">Book 4-6 weeks after initial session</p>
                                    </div>
                                </div>

                                <div
                                    class="bg-gradient-to-r from-purple-100 to-pink-100 p-6 rounded-xl text-center border border-purple-200">
                                    <div class="flex items-center justify-center gap-3">
                                        <span class="text-lg font-semibold text-purple-800">Total Investment:</span>
                                        <span class="text-3xl font-bold text-purple-700">$525</span>
                                    </div>
                                    <p class="text-sm text-purple-600 mt-2">Complete 2-session process</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 1: Service Selection -->
                <div class="booking-step active" id="step-1">
                    <!-- Service Categories -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8" id="service-categories">
                        <button
                            class="service-category-btn group bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 p-8 rounded-2xl text-center relative overflow-hidden"
                            data-category="signature"
                            style="--hover-ring-color: rgb(147 51 234); --hover-text-color: rgb(126 34 206);">
                            <div class="absolute inset-0 bg-gradient-to-br from-purple-100/30 to-pink-100/30 opacity-0">
                            </div>
                            <div class="relative z-10">
                                <div class="w-20 h-20 mx-auto mb-4 rounded-xl overflow-hidden bg-cover bg-center shadow-lg ring-2 ring-purple-200"
                                    style="background-image: url('newdentalteethimage.jpg')"></div>
                                <h3 class="font-bold text-xl mb-2 text-gray-800">
                                    Signature Services</h3>
                                <p class="text-sm text-gray-600">
                                    Teeth Whitening, Premium Bundles</p>
                                <div class="mt-3 text-xs text-purple-600 font-medium opacity-0">
                                    Premium treatments
                                </div>
                            </div>
                        </button>

                        <button
                            class="service-category-btn group bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 p-8 rounded-2xl text-center relative overflow-hidden"
                            data-category="facial"
                            style="--hover-ring-color: rgb(59 130 246); --hover-text-color: rgb(29 78 216);">
                            <div class="absolute inset-0 bg-gradient-to-br from-blue-100/30 to-indigo-100/30 opacity-0">
                            </div>
                            <div class="relative z-10">
                                <div class="w-20 h-20 mx-auto mb-4 rounded-xl overflow-hidden bg-cover bg-center shadow-lg ring-2 ring-blue-200"
                                    style="background-image: url('facialsphoto.jpg')"></div>
                                <h3 class="font-bold text-xl mb-2 text-gray-800">
                                    Facial Treatments</h3>
                                <p class="text-sm text-gray-600">
                                    Express, Custom, Luxury
                                    Facials</p>
                                <div class="mt-3 text-xs text-blue-600 font-medium opacity-0">
                                    Skincare specialists
                                </div>
                            </div>
                        </button>

                        <button
                            class="service-category-btn group bg-gradient-to-br from-rose-50 to-pink-50 border-2 border-rose-200 p-8 rounded-2xl text-center relative overflow-hidden"
                            data-category="brows"
                            style="--hover-ring-color: rgb(244 63 94); --hover-text-color: rgb(190 18 60);">
                            <div class="absolute inset-0 bg-gradient-to-br from-rose-100/30 to-pink-100/30 opacity-0">
                            </div>
                            <div class="relative z-10">
                                <div class="w-20 h-20 mx-auto mb-4 rounded-xl overflow-hidden bg-cover bg-center shadow-lg ring-2 ring-rose-200"
                                    style="background-image: url('browsserviceimageuse.jpg')"></div>
                                <h3 class="font-bold text-xl mb-2 text-gray-800">
                                    Brow Services</h3>
                                <p class="text-sm text-gray-600">
                                    Powder Brows, Lamination,
                                    Tinting</p>
                                <div class="mt-3 text-xs text-rose-600 font-medium opacity-0">
                                    Perfect brow shape
                                </div>
                            </div>
                        </button>

                        <button
                            class="service-category-btn group bg-gradient-to-br from-emerald-50 to-teal-50 border-2 border-emerald-200 p-8 rounded-2xl text-center relative overflow-hidden"
                            data-category="lashes"
                            style="--hover-ring-color: rgb(16 185 129); --hover-text-color: rgb(5 150 105);">
                            <div
                                class="absolute inset-0 bg-gradient-to-br from-emerald-100/30 to-teal-100/30 opacity-0">
                            </div>
                            <div class="relative z-10">
                                <div class="w-20 h-20 mx-auto mb-4 rounded-xl overflow-hidden bg-cover bg-center shadow-lg ring-2 ring-emerald-200"
                                    style="background-image: url('LASHPHOTOFORCATEGORY3.jpg')"></div>
                                <h3 class="font-bold text-xl mb-2 text-gray-800">
                                    Lash Services</h3>
                                <p class="text-sm text-gray-600">
                                    Extensions, Lifts, Fills</p>
                                <div class="mt-3 text-xs text-emerald-600 font-medium opacity-0">
                                    Dramatic enhancement
                                </div>
                            </div>
                        </button>

                        <button
                            class="service-category-btn group bg-gradient-to-br from-amber-50 to-orange-50 border-2 border-amber-200 p-8 rounded-2xl text-center relative overflow-hidden"
                            data-category="waxing"
                            style="--hover-ring-color: rgb(245 158 11); --hover-text-color: rgb(217 119 6);">
                            <div
                                class="absolute inset-0 bg-gradient-to-br from-amber-100/30 to-orange-100/30 opacity-0">
                            </div>
                            <div class="relative z-10">
                                <div class="w-20 h-20 mx-auto mb-4 rounded-xl overflow-hidden bg-cover bg-center shadow-lg ring-2 ring-amber-200"
                                    style="background-image: url('WAXINGservice.jpg')"></div>
                                <h3 class="font-bold text-xl mb-2 text-gray-800">
                                    Waxing Services</h3>
                                <p class="text-sm text-gray-600">
                                    Full Body, Brazilian, Legs
                                </p>
                                <div class="mt-3 text-xs text-amber-600 font-medium opacity-0">
                                    Smooth & silky
                                </div>
                            </div>
                        </button>
                    </div>

                    <!-- Specific Services (hidden initially) -->
                    <div class="service-details hidden" id="service-details">
                        <div class="mb-8">
                            <button
                                class="group flex items-center gap-2 text-purple-600 hover:text-purple-700 font-medium transition-all duration-200 hover:gap-3"
                                onclick="showCategories()">
                                <svg class="w-4 h-4 transition-transform group-hover:-translate-x-1" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 19l-7-7 7-7"></path>
                                </svg>
                                Back to Categories
                            </button>
                        </div>

                        <div class="grid md:grid-cols-2 gap-6" id="service-options">
                            <!-- Services will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="text-center mt-10">
                        <button
                            class="group bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-md touch-btn"
                            id="next-to-step-2" disabled onclick="proceedToBooking()">
                            <span class="flex items-center justify-center gap-2">
                                Next: Book & Pay
                                <svg class="w-5 h-5 transition-transform group-hover:translate-x-1" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5l7 7-7 7"></path>
                                </svg>
                            </span>
                        </button>
                    </div>
                </div>

                <!-- Step 2: Square Booking & Payment -->
                <div class="booking-step" id="step-2">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold mb-2">Complete Your Booking</h3>
                        <p class="text-gray-600">Select your appointment time and secure with 50% deposit</p>
                    </div>

                    <!-- Deposit Policy Notice -->
                    <div class="bg-amber-50 border border-amber-200 p-4 rounded-lg mb-6">
                        <h4 class="font-bold text-amber-800 mb-2">💰 50% Deposit Policy</h4>
                        <div class="text-sm text-amber-800 space-y-1">
                            <p>• <strong>50% deposit required</strong> to secure your appointment</p>
                            <p>• Remaining balance due at your appointment</p>
                            <p>• <strong>Cancellations:</strong> Must call/text Mary at (443) 528-5571</p>
                            <div class="mt-2 text-xs space-y-1">
                                <p>📅 <strong>48+ hours notice:</strong> Full deposit refund</p>
                                <p>📅 <strong>24-48 hours notice:</strong> 50% deposit refund</p>
                                <p>📅 <strong>Less than 24 hours:</strong> Deposit forfeited</p>
                                <p class="text-red-700">⏰ <strong>10+ minutes late:</strong> Forfeit deposit +
                                    reschedule required</p>
                            </div>
                        </div>
                    </div>

                    <!-- Selected Services Summary -->
                    <div class="bg-gray-50 p-6 rounded-xl mb-8" id="booking-summary">
                        <h4 class="text-lg font-semibold mb-4">Your Selected Services</h4>
                        <div id="selected-services-list">
                            <!-- Services will be populated by JavaScript -->
                        </div>
                        <div class="border-t pt-4 mt-4">
                            <div class="flex justify-between items-center text-lg font-bold">
                                <span>Service Total:</span>
                                <span id="total-price">$0.00</span>
                            </div>
                            <div class="flex justify-between items-center text-lg font-bold text-blue-600 mt-2">
                                <span>Deposit Required (50%):</span>
                                <span id="deposit-amount">$0.00</span>
                            </div>
                            <div class="flex justify-between items-center text-sm text-gray-600 mt-1">
                                <span>Remaining at appointment:</span>
                                <span id="remaining-amount">$0.00</span>
                            </div>
                        </div>
                    </div>

                    <!-- Custom Square Booking & Payment -->
                    <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                        <h4 class="text-lg font-semibold mb-4">Select Date, Time & Pay 50% Deposit</h4>

                        <!-- Date Selection -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-3">Select Your Appointment
                                Date</label>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <button id="prev-month" class="p-2 hover:bg-white rounded-lg transition-colors">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M15 19l-7-7 7-7"></path>
                                        </svg>
                                    </button>
                                    <h3 class="text-lg font-semibold" id="calendar-month">Loading...</h3>
                                    <button id="next-month" class="p-2 hover:bg-white rounded-lg transition-colors">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9 5l7 7-7 7"></path>
                                        </svg>
                                    </button>
                                </div>
                                <div class="grid grid-cols-7 gap-1 mb-2">
                                    <div class="text-center text-sm font-medium text-gray-500 p-2">Sun</div>
                                    <div class="text-center text-sm font-medium text-gray-500 p-2">Mon</div>
                                    <div class="text-center text-sm font-medium text-gray-500 p-2">Tue</div>
                                    <div class="text-center text-sm font-medium text-gray-500 p-2">Wed</div>
                                    <div class="text-center text-sm font-medium text-gray-500 p-2">Thu</div>
                                    <div class="text-center text-sm font-medium text-gray-500 p-2">Fri</div>
                                    <div class="text-center text-sm font-medium text-gray-500 p-2">Sat</div>
                                </div>
                                <div class="grid grid-cols-7 gap-1" id="calendar-days">
                                    <!-- Calendar days will be generated by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Time Selection -->
                        <div class="mb-6" id="time-selection" style="display: none;">
                            <label class="block text-sm font-medium text-gray-700 mb-3">Available Times</label>
                            <div class="grid grid-cols-3 sm:grid-cols-4 gap-3" id="time-slots">
                                <!-- Time slots will be generated by JavaScript -->
                            </div>
                        </div>

                        <!-- Customer Information -->
                        <div class="mb-6" id="customer-info" style="display: none;">
                            <h4 class="text-lg font-semibold mb-4">Your Information</h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">First Name *</label>
                                    <input type="text" id="customer-first-name" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Last Name *</label>
                                    <input type="text" id="customer-last-name" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                                </div>
                            </div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Email *</label>
                                    <input type="email" id="customer-email" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
                                        onblur="checkReturningCustomer()">
                                    <!-- Returning customer notification -->
                                    <div id="returning-customer-notice"
                                        class="hidden mt-2 p-3 bg-emerald-50 border border-emerald-200 rounded-lg">
                                        <div class="flex items-center">
                                            <svg class="w-5 h-5 text-emerald-500 mr-2" fill="currentColor"
                                                viewBox="0 0 20 20">
                                                <path fill-rule="evenodd"
                                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                            <div>
                                                <span class="text-emerald-800 font-medium">Welcome back!</span>
                                                <p class="text-emerald-700 text-sm">We found your saved payment methods.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Phone *</label>
                                    <input type="tel" id="customer-phone" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                                </div>
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Special Requests
                                    (Optional)</label>
                                <textarea id="customer-notes" rows="3"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
                                    placeholder="Any allergies, preferences, or special requests..."></textarea>
                            </div>
                        </div>

                        <!-- Square Payment Form -->
                        <div id="payment-section" style="display: none;">
                            <h4 class="text-lg font-semibold mb-4">Pay Your 50% Deposit</h4>

                            <!-- Saved Payment Methods -->
                            <div id="saved-cards-section" class="hidden mb-6">
                                <h5 class="text-md font-medium mb-3 text-gray-700">Your Saved Payment Methods</h5>
                                <div id="saved-cards-list" class="space-y-2 mb-4">
                                    <!-- Saved cards will be populated here -->
                                </div>
                                <button type="button" id="use-new-card-btn"
                                    class="text-sm text-purple-600 hover:text-purple-700 underline">
                                    Use a different card
                                </button>
                            </div>

                            <!-- Payment Form -->
                            <div id="new-card-section">
                                <div id="card-container" class="mb-4"></div>

                                <!-- Save Card Option -->
                                <div class="mb-4">
                                    <label class="flex items-center">
                                        <input type="checkbox" id="save-card-checkbox"
                                            class="mr-2 rounded border-gray-300 text-purple-600 focus:ring-purple-500">
                                        <span class="text-sm text-gray-700">Save this card for future bookings</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Payment Button -->
                            <button id="pay-button" class="w-full btn-primary text-lg py-4 mb-4" disabled>
                                <span id="pay-button-text">Pay 50% Deposit</span>
                                <span id="payment-amount" class="ml-2"></span>
                            </button>

                            <!-- Payment Status -->
                            <div id="payment-status" class="text-center"></div>
                        </div>

                        <!-- Loading States -->
                        <div id="booking-loading" class="text-center py-6" style="display: none;">
                            <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
                            <p class="mt-2 text-gray-600">Processing your booking...</p>
                        </div>
                    </div>

                    <div class="flex justify-center">
                        <button class="px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50"
                            onclick="showStep(1)">
                            ← Back to Services
                        </button>
                    </div>
                </div>

                <!-- Step 3: Confirmation (Redesigned) -->
                <div class="booking-step" id="step-3">
                    <div class="min-h-screen flex items-center justify-center py-12 px-4">
                        <div class="max-w-2xl w-full">
                            <!-- Success Animation Container -->
                            <div class="text-center mb-8">
                                <!-- Large Success Icon -->
                                <div class="relative inline-block mb-6">
                                    <div
                                        class="w-32 h-32 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center mx-auto shadow-2xl ring-4 ring-emerald-100">
                                        <svg class="w-20 h-20 text-white" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4"
                                                d="M5 13l4 4L19 7"></path>
                                        </svg>
                                    </div>
                                    <!-- Floating celebration elements -->
                                    <div
                                        class="absolute -top-4 -right-4 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg animate-bounce">
                                        <span class="text-lg">🎉</span>
                                    </div>
                                    <div
                                        class="absolute -bottom-2 -left-4 w-6 h-6 bg-pink-400 rounded-full flex items-center justify-center shadow-lg animate-pulse">
                                        <span class="text-sm">✨</span>
                                    </div>
                                </div>

                                <!-- Main Success Message -->
                                <h1 class="text-4xl md:text-5xl font-bold text-purple-600 mb-4">
                                    Booking Secured! 🎉
                                </h1>
                                <p class="text-xl text-gray-700 mb-2">Your 50% deposit has been processed</p>
                                <p class="text-lg text-gray-600 mb-8">Mary has been notified and is excited to see you!
                                </p>
                            </div>

                            <!-- Elegant Info Cards -->
                            <div class="space-y-6 mb-8">
                                <!-- Deposit Info Card -->
                                <div
                                    class="bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-2xl p-6 shadow-sm">
                                    <div class="flex items-center mb-3">
                                        <div
                                            class="w-10 h-10 bg-emerald-500 rounded-full flex items-center justify-center mr-4">
                                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1">
                                                </path>
                                            </svg>
                                        </div>
                                        <h3 class="text-lg font-semibold text-emerald-800">Payment Complete</h3>
                                    </div>
                                    <p class="text-emerald-700 text-sm leading-relaxed">
                                        Your 50% deposit secures your appointment. The remaining balance will be
                                        collected at your service.
                                    </p>
                                </div>

                                <!-- Next Steps Card -->
                                <div
                                    class="bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-2xl p-6 shadow-sm">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center mr-4">
                                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M9 5l7 7-7 7"></path>
                                            </svg>
                                        </div>
                                        <h3 class="text-lg font-semibold text-purple-800">What's Next</h3>
                                    </div>
                                    <div class="space-y-3 text-sm text-purple-700">
                                        <div class="flex items-center">
                                            <svg class="w-4 h-4 text-purple-500 mr-3 flex-shrink-0" fill="currentColor"
                                                viewBox="0 0 20 20">
                                                <path fill-rule="evenodd"
                                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                            <span>You'll receive a confirmation email shortly</span>
                                        </div>
                                        <div class="flex items-center">
                                            <svg class="w-4 h-4 text-purple-500 mr-3 flex-shrink-0" fill="currentColor"
                                                viewBox="0 0 20 20">
                                                <path fill-rule="evenodd"
                                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                            <span>Remaining balance due at your appointment</span>
                                        </div>
                                        <div class="flex items-start">
                                            <svg class="w-4 h-4 text-purple-500 mr-3 flex-shrink-0 mt-0.5"
                                                fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd"
                                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                            <span><strong>To reschedule/cancel:</strong> Call Mary at <a
                                                    href="tel:443-528-5571" class="underline font-medium">(443)
                                                    528-5571</a></span>
                                        </div>
                                        <div class="flex items-center">
                                            <svg class="w-4 h-4 text-purple-500 mr-3 flex-shrink-0" fill="currentColor"
                                                viewBox="0 0 20 20">
                                                <path fill-rule="evenodd"
                                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                                    clip-rule="evenodd"></path>
                                            </svg>
                                            <span>48+ hours notice = full refund</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Action Button -->
                            <div class="text-center">
                                <button onclick="resetBooking()"
                                    class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300">
                                    Book Another Service
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Success Message (Redesigned) -->
                <div class="booking-step" id="step-4">
                    <div class="min-h-screen flex items-center justify-center py-12 px-4">
                        <div class="max-w-2xl w-full text-center">
                            <!-- Success Animation Container -->
                            <div class="mb-8">
                                <!-- Large Success Icon -->
                                <div class="relative inline-block mb-6">
                                    <div
                                        class="w-32 h-32 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center mx-auto shadow-2xl ring-4 ring-emerald-100">
                                        <svg class="w-20 h-20 text-white" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4"
                                                d="M5 13l4 4L19 7"></path>
                                        </svg>
                                    </div>
                                    <!-- Floating celebration elements -->
                                    <div
                                        class="absolute -top-4 -right-4 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg animate-bounce">
                                        <span class="text-lg">🎉</span>
                                    </div>
                                    <div
                                        class="absolute -bottom-2 -left-4 w-6 h-6 bg-pink-400 rounded-full flex items-center justify-center shadow-lg animate-pulse">
                                        <span class="text-sm">✨</span>
                                    </div>
                                </div>

                                <!-- Main Success Message -->
                                <h1 class="text-4xl md:text-5xl font-bold text-purple-600 mb-4">
                                    All Set! 🌟
                                </h1>
                                <p class="text-xl text-gray-700 mb-2">Your booking has been completely processed</p>
                                <p class="text-lg text-gray-600 mb-8">We'll send you a confirmation email with all the
                                    details shortly.</p>
                            </div>

                            <!-- Booking Summary -->
                            <div class="bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-2xl p-6 shadow-sm mb-8"
                                id="final-booking-summary">
                                <!-- Final summary will be populated by JavaScript -->
                            </div>

                            <!-- Action Button -->
                            <button onclick="resetBooking()"
                                class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300">
                                Book Another Appointment
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-20 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4">
                <div class="text-center mb-12 sm:mb-16">
                    <h2 class="text-3xl sm:text-4xl font-bold mb-4">Get In Touch</h2>
                    <p class="text-gray-600">Ready to book or have questions? Contact us today!</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-start lg:items-center">
                    <div>
                        <div class="space-y-6">
                            <div class="flex items-center space-x-4">
                                <div class="bg-primary text-white p-3 rounded-full">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z">
                                        </path>
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Phone</h4>
                                    <p class="text-gray-600">(443) 528-5571</p>
                                </div>
                            </div>

                            <div class="flex items-center space-x-4">
                                <div class="bg-primary text-white p-3 rounded-full">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z">
                                        </path>
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Email</h4>
                                    <p class="text-gray-600">beautywithmare@gmail.com</p>
                                </div>
                            </div>

                            <div class="flex items-center space-x-4">
                                <div class="bg-primary text-white p-3 rounded-full">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                                        </path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Studio Location</h4>
                                    <p class="text-gray-600">8971 State Hwy 173<br>Pasadena, MD 21122</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-8 rounded-xl shadow-lg">
                        <!-- Success Message (hidden initially) -->
                        <div id="successMessage" class="hidden mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">
                            <div class="flex items-center">
                                <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                        clip-rule="evenodd"></path>
                                </svg>
                                <div>
                                    <h4 class="text-green-800 font-semibold">Message Sent Successfully!</h4>
                                    <p class="text-green-700 text-sm mt-1">Thank you for your message. We'll get back to
                                        you
                                        within 24 hours!</p>
                                </div>
                            </div>
                        </div>

                        <form id="contactForm" action="https://formspree.io/f/xpwlqjnv" method="POST" class="space-y-4">
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                                    <input type="text" name="name" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                    <input type="tel" name="phone" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                <input type="email" name="email" required
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Message</label>
                                <textarea name="message" rows="4" required
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
                            </div>
                            <!-- Hidden field for form identification -->
                            <input type="hidden" name="_subject" value="New Contact Form Submission - Beauty Website">

                            <button type="submit" id="submitBtn"
                                class="w-full bg-primary text-white py-3 rounded-md hover:bg-primary-dark transition-colors font-medium">
                                Send Message
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Map Section -->
        <section class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold mb-4">Find Our Studio</h2>
                    <p class="text-gray-600">Located in the heart of Pasadena, MD - easy to find and plenty of parking!
                    </p>
                </div>

                <div class="rounded-2xl overflow-hidden shadow-2xl">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3107.7234567890123!2d-76.54321!3d39.12345!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c81c12d3456789%3A0x1234567890abcdef!2s8971%20State%20Hwy%20173%2C%20Pasadena%2C%20MD%2021122!5e0!3m2!1sen!2sus!4v1234567890123"
                        width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>

                <div class="mt-12 grid md:grid-cols-3 gap-8 text-center">
                    <div class="bg-gray-50 p-6 rounded-xl">
                        <div class="text-3xl mb-3">📍</div>
                        <h3 class="font-semibold mb-2">Easy to Find</h3>
                        <p class="text-gray-600">Right on State Highway 173 with clear signage</p>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-xl">
                        <div class="text-3xl mb-3">🚗</div>
                        <h3 class="font-semibold mb-2">Free Parking</h3>
                        <p class="text-gray-600">Convenient parking right outside the studio</p>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-xl">
                        <div class="text-3xl mb-3">⭐</div>
                        <h3 class="font-semibold mb-2">Private Studio</h3>
                        <p class="text-gray-600">Clean, relaxing environment for your treatments</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Google Reviews Section -->
        <section class="reviews-section">
            <div class="reviews-content">
                <div class="reviews-stars">⭐⭐⭐⭐⭐</div>
                <div class="reviews-rating">5.0 Star Rating</div>
                <div class="reviews-count">Based on 17+ Google Reviews</div>

                <h2 class="reviews-title">Loved Your Experience?</h2>
                <p class="reviews-subtitle">Help other women discover the amazing services at Beauty With Mare by
                    sharing your experience on Google!</p>

                <a href="https://www.google.com/maps/place/Beauty+With+Mare/@39.3647448,-76.3110853,17z/data=!4m8!3m7!1s0x89b7ff00764ba81b:0xac2de5b99e4ae96a!8m2!3d39.3647448!4d-76.3110853!9m1!1b1!16s%2Fg%2F11y5n95w7_?entry=ttu#lrd=0x89b7ff00764ba81b:0xac2de5b99e4ae96a,3"
                    target="_blank" rel="noopener noreferrer" class="review-btn"
                    onclick="gtag('event', 'click', { event_category: 'Reviews', event_label: 'Google Reviews' });">
                    <span class="review-btn-icon">📝</span>
                    Leave a Google Review
                </a>

                <div style="margin-top: 25px; opacity: 0.8; font-size: 0.9rem;">
                    Your feedback helps us grow and helps other clients find us! 💕
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-8 sm:py-12">
            <div class="max-w-7xl mx-auto px-4 text-center">
                <div class="text-xl sm:text-2xl font-bold mb-3 sm:mb-4">
                    <span class="text-primary">Beauty</span>WithMare
                </div>
                <p class="text-gray-400 mb-4 sm:mb-6 text-sm sm:text-base">Professional beauty treatments in Pasadena,
                    MD
                </p>
                <div class="flex justify-center items-center gap-6 sm:gap-8">
                    <a href="https://www.instagram.com/beauty.with_mare/" target="_blank"
                        class="text-gray-400 hover:text-primary transition-colors group social-icon">
                        <div class="flex items-center gap-2">
                            <svg class="w-6 h-6 sm:w-7 sm:h-7" fill="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg" style="color: #E4405F;">
                                <path
                                    d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                            </svg>
                            <span class="text-sm sm:text-base font-medium">Instagram</span>
                        </div>
                    </a>
                    <a href="https://www.facebook.com/Beautywithmare" target="_blank"
                        class="text-gray-400 hover:text-primary transition-colors group social-icon">
                        <div class="flex items-center gap-2">
                            <svg class="w-6 h-6 sm:w-7 sm:h-7" fill="currentColor" viewBox="0 0 24 24"
                                style="color: #1877F2;">
                                <path
                                    d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
                            </svg>
                            <span class="text-sm sm:text-base font-medium">Facebook</span>
                        </div>
                    </a>
                    <a href="https://www.google.com/search?q=beauty+with+mare&rlz=1C1RXQR_enUS946US946&oq=&gs_lcrp=EgZjaHJvbWUqCQgAECMYJxjqAjIJCAAQIxgnGOoCMgkIARAjGCcY6gIyDwgCEC4YJxivARjHARjqAjIJCAMQIxgnGOoCMgkIBBAjGCcY6gIyDwgFEC4YJxjHARjqAhjRAzIMCAYQIxgnGOoCGLQEMgYIBxBFGEDSAQw0MDY5NjEzN2owajeoAgewAgHxBcr0xtyuTaXC8QXK9Mbcrk2lwg&sourceid=chrome&ie=UTF-8&lqi=ChBiZWF1dHkgd2l0aCBtYXJlSI-4yqCpvYCACFoeEAAQARACGAAYARgCIhBiZWF1dHkgd2l0aCBtYXJlkgEMYmVhdXR5X3NhbG9uqgFXCg0vZy8xMXk1bjk1dzdfCg0vZy8xMXliYjE1NzBoEAEyHxABIht2C9_21RoQoIhY8MYtUq62uqeNo2OoKrMPFggyFBACIhBiZWF1dHkgd2l0aCBtYXJl4AEA#rlimm=12406825133863004522"
                        target="_blank" class="text-gray-400 hover:text-primary transition-colors group social-icon">
                        <div class="flex items-center gap-2">
                            <svg class="w-6 h-6 sm:w-7 sm:h-7" fill="currentColor" viewBox="0 0 24 24"
                                style="color: #4285F4;">
                                <path
                                    d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                                <path
                                    d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                                <path
                                    d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
                                <path
                                    d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
                            </svg>
                            <span class="text-sm sm:text-base font-medium">Reviews</span>
                        </div>
                    </a>
                </div>
                <div class="border-t border-gray-700 mt-6 sm:mt-8 pt-6 sm:pt-8">
                    <div class="flex flex-wrap justify-center gap-4 sm:gap-6 mb-4">
                        <a href="#privacy-policy"
                            class="text-gray-400 hover:text-primary transition-colors text-xs sm:text-sm"
                            onclick="event.preventDefault(); showLegalSection('privacy')">Privacy Policy</a>
                        <a href="#terms-of-service"
                            class="text-gray-400 hover:text-primary transition-colors text-xs sm:text-sm"
                            onclick="event.preventDefault(); showLegalSection('terms')">Terms of Service</a>
                        <a href="#cookie-policy"
                            class="text-gray-400 hover:text-primary transition-colors text-xs sm:text-sm"
                            onclick="event.preventDefault(); showLegalSection('cookies')">Cookie Policy</a>
                    </div>
                    <p class="text-gray-400 text-xs sm:text-sm">&copy; 2024 BeautyWithMare. All rights reserved.</p>
                </div>
            </div>
        </footer>



        <!-- JavaScript -->
        <script>
            // Booking System State
            let bookingState = {
                selectedService: null,
                selectedServiceName: null,
                selectedDate: null,
                selectedTime: null,
                price: 0,
                duration: null
            };

            // Service Data
            const serviceData = {
                signature: [
                    { id: 'test-service', name: '💳 PAYMENT TEST', price: 0.01, duration: '1 min', description: 'Test the payment system - 1 penny charge' },
                    { id: 'test-2hour', name: '🧪 2-HOUR TEST', price: 0.01, duration: '120 min', description: 'Test 2-hour booking and calendar blocking - 1 penny charge' },
                    { id: 'test-3hour', name: '🧪 3-HOUR TEST', price: 0.01, duration: '180 min', description: 'Test 3-hour booking and calendar blocking - 1 penny charge' },
                    { id: 'teeth-whitening', name: 'Professional Teeth Whitening', price: 225, duration: '60 min', description: 'Mary uses a professional grade whitening system that safely lightens your teeth 3 to 8 shades in one session. She employs advanced gel technology to remove years of staining from coffee, wine, and aging. Results last 1-3 years with proper care. Perfect for special events or boosting confidence.' },
                    { id: 'premium-waxing', name: 'Premium Waxing Service', price: 185, duration: '90 min', description: 'Mary provides a comprehensive full body waxing experience using premium hard wax for sensitive areas and strip wax for larger regions. She includes pre treatment prep, expert technique, and post care soothing treatments. Perfect for special occasions or maintaining smooth skin year round.' },
                    { id: 'facial-lash-bundle', name: 'Facial & Lash Lift Bundle', price: 195, duration: '120 min', description: 'Mary creates a complete beauty transformation combining a custom facial treatment with professional lash lift and tint. Your skin receives deep cleansing and hydration while Mary lifts and darkens your lashes for 6-8 weeks of mascara free mornings. Perfect for busy lifestyles.' }
                ],
                facial: [
                    { id: 'holistic-relaxation', name: '✨ Holistic Relaxation Package', price: 115, duration: '50 min', description: 'Mary provides a mind body wellness experience combining express facial deep cleansing with therapeutic ear candling. She targets immediate skin concerns with the facial while the ear candling promotes relaxation and balance. Perfect for stress relief and natural detoxification.' },
                    { id: 'glow-and-shape', name: '✨ Ultimate Glow & Shape', price: 190, duration: '90 min', description: 'Mary creates a complete facial transformation combining personalized facial treatment with professional brow tinting and precise waxing. She gives your skin customized care while perfectly shaping and enhancing your brows. Leave with glowing skin and flawless brows - the ultimate confidence boost.' },
                    { id: 'custom-facial', name: 'Custom Facial', price: 125, duration: '60 min', description: 'Personalized facial treatment designed for your unique skin type and concerns. Includes consultation, cleanse, skin analysis, exfoliation, extractions (if needed), massage, customized mask, and protection. Mary analyzes your skin and creates a treatment plan targeting acne, aging, dryness, or sensitivity.' },
                    { id: 'luxury-facial', name: 'Luxury Facial', price: 175, duration: '90 min', description: 'Mary provides the ultimate relaxation experience with premium skincare products and extended pampering. She includes all custom facial benefits plus facial massage, specialized anti aging treatments, and luxury finishing products. Perfect for special occasions or monthly self care rituals.' }
                ],
                brows: [
                    { id: 'powder-brows-initial', name: 'Powder Brows (Initial Session)', price: 400, duration: '120 min', description: '⭐ STEP 1: Semi-permanent cosmetic makeup technique using advanced machine to create soft, powdered makeup effect that lasts 1-3 years. Mary creates gradient shading (lighter at front, darker at tail) that mimics perfectly applied brow powder. Ideal for all skin types, especially oily or mature skin. Touch-up required 4-6 weeks later ($125).' },
                    { id: 'powder-brow-touchup', name: 'Powder Brow Touch-up (4-6 Weeks Later)', price: 125, duration: '60 min', description: '⭐ STEP 2: Essential perfecting session that completes your powder brow investment. After initial healing, Mary adds density, adjusts shape, and ensures even color saturation. This appointment locks in your results for 1-3 years. Must be completed for warranty and optimal results.' },
                    { id: 'existing-brow-touchup', name: 'Touch-up (EXISTING CLIENTS ONLY)', price: 125, duration: '60 min', description: '⚠️ ONLY for clients who previously completed the full powder brow process with Mary. This is NOT the initial touch-up - it\'s for existing clients needing refreshing after their brows have fully healed and settled (6+ months later).' },
                    { id: 'annual-brow-touchup', name: 'Annual Brow Touch-up', price: 225, duration: '60 min', description: 'Mary provides annual maintenance for established powder brows (1+ years old). She refreshes color, adjusts shape as needed, and extends the life of your brow investment. Recommended yearly to maintain optimal appearance and prevent fading.' },
                    { id: 'brow-transformation', name: '✨ Complete Brow Transformation', price: 120, duration: '60 min', description: 'Mary uses a revolutionary lamination technique to lift and set brow hairs in perfect position, combined with custom tinting for rich color and precise waxing for ideal shape. Results last 6-8 weeks. Perfect for sparse brows, unruly hairs, or anyone wanting fuller, more defined brows.' },
                    { id: 'brow-refresh-express', name: '✨ Brow Refresh Express', price: 85, duration: '45 min', description: 'Mary provides the perfect maintenance combination of professional tinting for enhanced color depth and precision waxing for clean shape. She includes consultation for optimal brow styling. Ideal for monthly maintenance or special event prep.' }
                ],
                lashes: [
                    { id: 'lash-lift-tint', name: 'Lash Lift & Tint', price: 115, duration: '60 min', description: 'Mary performs a revolutionary treatment that lifts your natural lashes from the root and curls them upward, combined with rich tinting for darker, more defined appearance. Results last 6-8 weeks with no daily curling or mascara needed. Perfect for straight, downward lashes or low maintenance beauty routines.' },
                    { id: 'classic-wet-look', name: 'Classic Wet Look', price: 165, duration: '120 min', description: 'Mary creates a sophisticated lash extension style that gives the appearance of naturally glossy, wet lashes. She precisely applies individual extensions to each natural lash for seamless, elegant enhancement. Lasts 4-6 weeks with proper care. Perfect for professional settings or everyday glamour.' },
                    { id: 'volume-extensions', name: 'Volume Lash Extensions', price: 225, duration: '180 min', description: 'Mary creates dramatic lash artistry using ultra fine extensions applied with her professional technique to each natural lash. She creates full, fluffy, Instagram worthy lashes while keeping them lightweight and comfortable. Lasts 4-6 weeks. Perfect for special events, photo shoots, or making a statement.' },
                    { id: 'lash-fills', name: 'Lash Extension Fills', price: 95, duration: '90 min', description: 'Mary provides essential maintenance for your existing lash extensions, replacing naturally shed lashes to maintain fullness and shape. Recommended every 2-3 weeks to keep extensions looking fresh and beautiful. She includes cleaning, removal of outgrown extensions, and application of new ones.' }
                ],
                waxing: [
                    { id: 'full-body-wax', name: 'Full Body Wax', price: 285, duration: '120 min', description: 'Mary provides complete hair removal from shoulders down using professional hard and soft wax techniques. She includes legs, arms, underarms, bikini area, and any additional areas desired. Perfect for vacations, special occasions, or maintaining completely smooth skin. Results last 4-6 weeks.' },
                    { id: 'brazilian-underarm-combo', name: '✨ Brazilian + Underarm Combo', price: 115, duration: '60 min', description: 'Mary provides this popular combination service removing all hair from intimate areas and underarms in one convenient appointment. She uses gentle hard wax designed for sensitive areas. More comfortable and cost effective than separate appointments. Results last 4-6 weeks.' },
                    { id: 'brazilian-wax', name: 'Brazilian Wax', price: 85, duration: '45 min', description: 'Mary provides complete intimate area hair removal using specialized hard wax designed for sensitive skin. She performs the service with professional techniques ensuring comfort and hygiene. Includes front, back, and everything in between. Results last 4-6 weeks with reduced hair growth over time.' },
                    { id: 'full-leg-wax', name: 'Full Leg Wax', price: 95, duration: '60 min', description: 'Mary provides professional hair removal from ankles to bikini line using efficient strip wax technique. She creates silky smooth legs that last 4-6 weeks much longer than shaving. Perfect for summer, special events, or year round smooth skin maintenance.' }
                ]
            };

            // Square Configuration - Production
            const SQUARE_CONFIG = {
                applicationId: 'sq0idp-duajvwjFz_tP_My77HhH9g',
                environment: 'production',
                locationId: 'LSCFYPEXP7Y2N'
            };

            // Square Booking System
            let squarePayments;
            let card;
            let currentBookingData = {
                selectedServices: [],
                selectedDate: null,
                selectedTime: null,
                customerInfo: {},
                totalAmount: 0
            };

            // Analytics tracking
            let analyticsData = {
                sessionId: generateSessionId(),
                startTime: Date.now(),
                isReturning: localStorage.getItem('hasVisited') !== null,
                bookingStarted: false,
                bookingCompleted: false
            };

            // Generate unique session ID
            function generateSessionId() {
                return 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            }

            // Track visitor
            function trackVisitor() {
                // Mark as visited for future sessions
                localStorage.setItem('hasVisited', 'true');

                // Send visitor data to backend
                fetch('/api/analytics/visitor', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        sessionId: analyticsData.sessionId,
                        isReturning: analyticsData.isReturning,
                        timestamp: Date.now(),
                        userAgent: navigator.userAgent,
                        referrer: document.referrer || 'direct'
                    })
                }).catch(err => console.log('Analytics tracking failed:', err));
            }

            // Track booking started (when user selects first service)
            function trackBookingStarted() {
                if (!analyticsData.bookingStarted) {
                    analyticsData.bookingStarted = true;

                    fetch('/api/analytics/booking-started', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            sessionId: analyticsData.sessionId,
                            timestamp: Date.now(),
                            services: currentBookingData.selectedServices.map(s => s.name)
                        })
                    }).catch(err => console.log('Analytics tracking failed:', err));
                }
            }

            // Track booking completed (when payment is successful)
            function trackBookingCompleted(bookingId, amount) {
                if (!analyticsData.bookingCompleted) {
                    analyticsData.bookingCompleted = true;

                    fetch('/api/analytics/booking-completed', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            sessionId: analyticsData.sessionId,
                            bookingId: bookingId,
                            amount: amount,
                            timestamp: Date.now(),
                            services: currentBookingData.selectedServices.map(s => s.name),
                            timeToBook: Date.now() - analyticsData.startTime
                        })
                    }).catch(err => console.log('Analytics tracking failed:', err));
                }
            }

            // Track visitor when page loads
            document.addEventListener('DOMContentLoaded', function () {
                trackVisitor();
            });

            // Available time slots (Mary's schedule: 9 AM to 9 PM) - 1 HOUR INTERVALS FOR TESTING
            const availableTimeSlots = [
                '9:00 AM', '10:00 AM', '11:00 AM', '12:00 PM', '1:00 PM', '2:00 PM',
                '3:00 PM', '4:00 PM', '5:00 PM', '6:00 PM', '7:00 PM', '8:00 PM', '9:00 PM'
            ];

            // Initialize Square Payments
            async function initializeSquarePayments() {
                try {
                    console.log('Attempting to initialize Square Payments...');

                    // Wait for Square to be available
                    let attempts = 0;
                    while (!window.Square && attempts < 10) {
                        console.log(`Waiting for Square.js to load... attempt ${attempts + 1}`);
                        await new Promise(resolve => setTimeout(resolve, 500));
                        attempts++;
                    }

                    if (!window.Square) {
                        throw new Error('Square.js failed to load after 5 seconds. Please check your internet connection.');
                    }

                    console.log('Square.js loaded, creating payments instance...');
                    squarePayments = window.Square.payments(SQUARE_CONFIG.applicationId, SQUARE_CONFIG.locationId);
                    console.log('✅ Square Payments initialized successfully');

                    return true;
                } catch (error) {
                    console.error('❌ Failed to initialize Square Payments:', error);
                    squarePayments = null;
                    showPaymentError('Failed to load payment system. Please refresh the page or contact us directly.');
                    return false;
                }
            }

            // Initialize Booking Calendar
            async function initializeBookingCalendar() {
                const currentDate = new Date();
                let currentMonth = currentDate.getMonth();
                let currentYear = currentDate.getFullYear();

                // Always start on current month - removed auto-advance logic

                async function renderCalendar(month, year) {
                    const firstDay = new Date(year, month, 1).getDay();
                    const daysInMonth = new Date(year, month + 1, 0).getDate();
                    const monthNames = ["January", "February", "March", "April", "May", "June",
                        "July", "August", "September", "October", "November", "December"];

                    document.getElementById('calendar-month').textContent = `${monthNames[month]} ${year}`;

                    // Update prev button state based on current month
                    const today = new Date();
                    const currentRealMonth = today.getMonth();
                    const currentRealYear = today.getFullYear();
                    const prevBtn = document.getElementById('prev-month');

                    if (year < currentRealYear || (year === currentRealYear && month <= currentRealMonth)) {
                        prevBtn.disabled = true;
                        prevBtn.style.opacity = '0.5';
                        prevBtn.style.cursor = 'not-allowed';
                    } else {
                        prevBtn.disabled = false;
                        prevBtn.style.opacity = '1';
                        prevBtn.style.cursor = 'pointer';
                    }

                    const calendarDays = document.getElementById('calendar-days');
                    calendarDays.innerHTML = '';

                    // Empty cells for days before first day of month
                    for (let i = 0; i < firstDay; i++) {
                        const emptyCell = document.createElement('div');
                        calendarDays.appendChild(emptyCell);
                    }

                    // Prepare dates for bulk availability check
                    const datesToCheck = [];
                    for (let day = 1; day <= daysInMonth; day++) {
                        const cellDate = new Date(year, month, day);
                        const today = new Date();
                        today.setHours(0, 0, 0, 0);

                        // Only check availability for future dates
                        if (cellDate >= today) {
                            const dateString = cellDate.toISOString().split('T')[0];
                            datesToCheck.push(dateString);
                        }
                    }

                    // Get availability data for all dates in the month
                    let dateAvailability = {};
                    try {
                        const calendarPayload = {
                            dates: datesToCheck,
                            slotsNeeded: currentBookingData.slotsNeeded || 1,
                            duration: currentBookingData.totalDurationMinutes || 60
                        };



                        const response = await fetch(`http://localhost:3000/api/bulk-availability`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(calendarPayload)
                        });
                        const data = await response.json();

                        if (data.success) {
                            dateAvailability = data.dateAvailability;
                        }
                    } catch (error) {
                        console.log('⚠️ Backend not available - calendar will show all dates as available');
                    }

                    // Days of the month - KEEP ALL DATES IN CORRECT POSITIONS
                    for (let day = 1; day <= daysInMonth; day++) {
                        const dayCell = document.createElement('div');
                        dayCell.className = 'calendar-day';
                        dayCell.textContent = day;

                        const cellDate = new Date(year, month, day);
                        const dateString = cellDate.toISOString().split('T')[0];
                        const today = new Date();
                        today.setHours(0, 0, 0, 0);

                        // Disable past dates
                        if (cellDate < today) {
                            dayCell.classList.add('disabled');
                        } else {
                            // Check availability for future dates
                            const availability = dateAvailability[dateString];

                            if (availability) {
                                if (availability.isEntireDayBlocked || !availability.hasAvailability) {
                                    // Fully booked/blocked - show but make unclickable
                                    dayCell.classList.add('fully-booked');
                                    dayCell.title = 'Fully booked - no available times';
                                } else {
                                    // Available - add click handler
                                    dayCell.addEventListener('click', () => selectBookingDate(dayCell, cellDate));
                                    dayCell.title = `${availability.availableCount} time slots available`;
                                }
                            } else {
                                // Fallback - assume available if no data
                                dayCell.addEventListener('click', () => selectBookingDate(dayCell, cellDate));
                                dayCell.title = 'Click to book';
                            }
                        }

                        calendarDays.appendChild(dayCell);
                    }
                }

                function selectBookingDate(dayCell, date) {
                    // Remove previous selection
                    document.querySelectorAll('.calendar-day').forEach(cell =>
                        cell.classList.remove('selected'));

                    // Select new date
                    dayCell.classList.add('selected');
                    currentBookingData.selectedDate = date;

                    // Show time selection
                    showTimeSelection();
                }

                // Month navigation
                document.getElementById('prev-month').addEventListener('click', async () => {
                    const today = new Date();
                    const currentRealMonth = today.getMonth();
                    const currentRealYear = today.getFullYear();

                    // Prevent going to previous months (before current month)
                    if (currentYear < currentRealYear || (currentYear === currentRealYear && currentMonth <= currentRealMonth)) {
                        return; // Don't allow going back
                    }

                    if (currentMonth === 0) {
                        currentMonth = 11;
                        currentYear--;
                    } else {
                        currentMonth--;
                    }
                    await renderCalendar(currentMonth, currentYear);
                });

                document.getElementById('next-month').addEventListener('click', async () => {
                    if (currentMonth === 11) {
                        currentMonth = 0;
                        currentYear++;
                    } else {
                        currentMonth++;
                    }
                    await renderCalendar(currentMonth, currentYear);
                });

                await renderCalendar(currentMonth, currentYear);
            }

            // Show time selection with SIMPLIFIED slot system
            async function showTimeSelection() {
                const timeSelectionDiv = document.getElementById('time-selection');
                const timeSlotsDiv = document.getElementById('time-slots');

                timeSelectionDiv.style.display = 'block';
                timeSlotsDiv.innerHTML = '<div class="text-center p-4">Loading available times...</div>';

                // CRITICAL: Always use current service selection, never cached calendar data
                // Recalculate duration from currently selected services to ensure accuracy
                updateSelectedServicesData(); // Force recalculation

                const slotsNeeded = currentBookingData.slotsNeeded || 1;
                const totalDuration = currentBookingData.totalDurationMinutes || 60;

                // No need to show duration - customers already know from service selection

                // Check if this is a test service - only bypass API for test service
                const isTestService = currentBookingData.selectedServices.some(service =>
                    service.id === 'test-service' ||
                    service.id === 'test-2hour' ||
                    service.id === 'test-3hour' ||
                    service.name.includes('PAYMENT TEST') ||
                    service.name.includes('TEST')
                );

                if (isTestService) {
                    console.log('🧪 TEST SERVICE: Showing all available times for testing');
                    timeSlotsDiv.innerHTML = '';

                    availableTimeSlots.forEach(time => {
                        const timeSlot = document.createElement('div');
                        timeSlot.className = 'time-slot';
                        timeSlot.textContent = time;
                        timeSlot.addEventListener('click', () => selectTimeSlot(timeSlot, time));
                        timeSlotsDiv.appendChild(timeSlot);
                    });
                } else {
                    // Regular services use backend availability check (connected to Mary's admin calendar)
                    try {
                        // Get real-time availability from backend (checks blocked times + bookings)
                        const dateString = currentBookingData.selectedDate.toISOString().split('T')[0];


                        const response = await fetch(`http://localhost:3000/api/available-times`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                date: dateString,
                                slotsNeeded: slotsNeeded,
                                duration: totalDuration
                            })
                        });
                        const data = await response.json();

                        timeSlotsDiv.innerHTML = '';

                        if (data.success && data.availableTimes.length > 0) {
                            // Show clean time slots (filtered by Mary's calendar)
                            data.availableTimes.forEach(time => {
                                const timeSlot = document.createElement('div');
                                timeSlot.className = 'time-slot';
                                timeSlot.textContent = time;
                                timeSlot.addEventListener('click', () => selectTimeSlot(timeSlot, time));
                                timeSlotsDiv.appendChild(timeSlot);
                            });
                        } else {
                            const noSlotsMsg = document.createElement('div');
                            noSlotsMsg.className = 'text-center text-gray-500 p-4';
                            noSlotsMsg.textContent = 'No available times for this date. Please try another date.';
                            timeSlotsDiv.appendChild(noSlotsMsg);
                        }
                    } catch (error) {
                        console.error('Error loading availability:', error);
                        console.log('⚠️ Backend server not running - using fallback times');
                        // Fallback to static slots if backend is down
                        timeSlotsDiv.innerHTML = '';

                        availableTimeSlots.forEach(time => {
                            const timeSlot = document.createElement('div');
                            timeSlot.className = 'time-slot';
                            timeSlot.textContent = time;
                            timeSlot.addEventListener('click', () => selectTimeSlot(timeSlot, time));
                            timeSlotsDiv.appendChild(timeSlot);
                        });
                    }
                }
            }

            // Filter time slots to ensure enough consecutive slots are available
            function filterValidStartTimes(availableTimes, slotsNeeded) {
                if (slotsNeeded <= 1) return availableTimes;

                const validStartTimes = [];

                for (let i = 0; i <= availableTimes.length - slotsNeeded; i++) {
                    const startTime = availableTimes[i];
                    let isValidBlock = true;

                    // Check if the next (slotsNeeded-1) slots are also available
                    for (let j = 1; j < slotsNeeded; j++) {
                        const nextTime = getNextHourSlot(startTime, j);
                        if (!availableTimes.includes(nextTime)) {
                            isValidBlock = false;
                            break;
                        }
                    }

                    if (isValidBlock) {
                        validStartTimes.push(startTime);
                    }
                }

                return validStartTimes;
            }

            // Helper function to get the next hour slot
            function getNextHourSlot(timeStr, hoursToAdd) {
                const [time, period] = timeStr.split(' ');
                let [hours, minutes] = time.split(':').map(Number);

                // Convert to 24-hour format
                if (period === 'PM' && hours !== 12) hours += 12;
                if (period === 'AM' && hours === 12) hours = 0;

                // Add hours
                hours += hoursToAdd;

                // Convert back to 12-hour format
                const period12 = hours >= 12 ? 'PM' : 'AM';
                const hours12 = hours > 12 ? hours - 12 : (hours === 0 ? 12 : hours);

                return `${hours12}:${minutes.toString().padStart(2, '0')} ${period12}`;
            }

            // Handle time slot selection
            function selectTimeSlot(timeSlot, time) {
                // Remove previous selection
                document.querySelectorAll('.time-slot').forEach(slot =>
                    slot.classList.remove('selected'));

                // Select new time
                timeSlot.classList.add('selected');
                currentBookingData.selectedTime = time;

                // Show customer info form
                showCustomerInfoForm();
            }

            // Show customer information form
            function showCustomerInfoForm() {
                const customerInfoDiv = document.getElementById('customer-info');
                customerInfoDiv.style.display = 'block';

                // Add form validation
                const requiredFields = ['customer-first-name', 'customer-last-name', 'customer-email', 'customer-phone'];

                requiredFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    field.addEventListener('input', validateCustomerForm);
                });
            }

            // Validate customer form
            function validateCustomerForm() {
                const firstName = document.getElementById('customer-first-name').value.trim();
                const lastName = document.getElementById('customer-last-name').value.trim();
                const email = document.getElementById('customer-email').value.trim();
                const phone = document.getElementById('customer-phone').value.trim();

                if (firstName && lastName && email && phone) {
                    currentBookingData.customerInfo = {
                        firstName,
                        lastName,
                        email,
                        phone,
                        notes: document.getElementById('customer-notes').value.trim()
                    };

                    // Show payment section
                    showPaymentSection();
                }
            }

            // Show payment section and initialize Square card
            async function showPaymentSection() {
                const paymentSection = document.getElementById('payment-section');
                paymentSection.style.display = 'block';

                // Update payment amount
                updatePaymentAmount();

                // Setup saved cards UI if customer has saved cards
                setupSavedCardsUI();

                // Initialize Square card if not already done and no saved cards
                if (!card && customerCards.length === 0) {
                    await initializeSquareCard();
                }
            }

            // Update payment amount display
            function updatePaymentAmount() {
                // Use existing selected services data (no need to recalculate)
                const totalPrice = currentBookingData.totalAmount || 0;
                const selectedServices = currentBookingData.selectedServices || [];

                // If no services selected yet, calculate them
                if (selectedServices.length === 0) {
                    updateSelectedServicesData();
                }

                // Update display
                document.getElementById('payment-amount').textContent = `($${currentBookingData.totalAmount.toFixed(2)})`;

                // Also update service summary if element exists
                const serviceSummary = document.getElementById('selected-services-summary');
                if (serviceSummary) {
                    let summaryHTML = '<h4 class="font-semibold mb-2">Selected Services:</h4><ul class="text-sm space-y-1">';
                    currentBookingData.selectedServices.forEach(service => {
                        summaryHTML += `<li class="flex justify-between"><span>${service.name}</span><span>$${service.price}</span></li>`;
                    });
                    summaryHTML += `</ul><div class="border-t mt-2 pt-2 font-semibold flex justify-between"><span>Total:</span><span>$${currentBookingData.totalAmount.toFixed(2)}</span></div>`;
                    summaryHTML += `<div class="text-xs text-gray-600 mt-1">Duration: ${currentBookingData.totalDurationMinutes} minutes</div>`;
                    serviceSummary.innerHTML = summaryHTML;
                }
            }

            // Initialize Square card payment form
            async function initializeSquareCard() {
                try {
                    const cardContainer = document.getElementById('card-container');
                    const payButton = document.getElementById('pay-button');

                    // Check if Square payments is initialized
                    if (!squarePayments) {
                        console.log('Square payments not initialized, attempting to initialize...');
                        await initializeSquarePayments();

                        // If still not initialized, throw error
                        if (!squarePayments) {
                            throw new Error('Failed to initialize Square payments system');
                        }
                    }

                    // Create card payment method with valid Square styles
                    card = await squarePayments.card({
                        style: {
                            input: {
                                color: '#1a1a1a',
                                fontSize: '16px'
                            },
                            'input.is-error': {
                                color: '#ef4444'
                            },
                            '.message-text': {
                                color: '#6b7280'
                            },
                            '.message-text.is-error': {
                                color: '#ef4444'
                            }
                        }
                    });

                    await card.attach(cardContainer);

                    // Enable pay button when card is ready
                    payButton.disabled = false;
                    payButton.addEventListener('click', handlePayment);

                    console.log('Square card initialized successfully');
                } catch (error) {
                    console.error('Failed to initialize Square card:', error);
                    showPaymentError('Failed to load payment form. Please refresh the page or contact us directly.');
                }
            }

            // Handle payment processing
            async function handlePayment() {
                const payButton = document.getElementById('pay-button');
                const paymentStatus = document.getElementById('payment-status');
                const loadingDiv = document.getElementById('booking-loading');

                try {
                    // Show loading state
                    payButton.disabled = true;
                    payButton.querySelector('#pay-button-text').textContent = 'Processing...';
                    loadingDiv.style.display = 'block';

                    let paymentToken;
                    let shouldSaveCard = false;

                    if (selectedSavedCard) {
                        // Use saved card
                        paymentToken = selectedSavedCard;
                    } else {
                        // Tokenize new card
                        const tokenResult = await card.tokenize();
                        if (tokenResult.status === 'OK') {
                            paymentToken = tokenResult.token;
                            shouldSaveCard = document.getElementById('save-card-checkbox').checked;
                        } else {
                            throw new Error('Card tokenization failed: ' + (tokenResult.errors?.[0]?.message || 'Unknown error'));
                        }
                    }

                    // Process payment with your backend
                    await processPayment(paymentToken, shouldSaveCard);

                } catch (error) {
                    console.error('Payment failed:', error);
                    showPaymentError(error.message || 'Payment failed. Please try again.');

                    // Reset button state
                    payButton.disabled = false;
                    payButton.querySelector('#pay-button-text').textContent = 'Pay 50% Deposit';
                    loadingDiv.style.display = 'none';
                }
            }

            // Process payment (you'll need a backend endpoint for this)
            async function processPayment(token, shouldSaveCard = false) {
                try {
                    // Call payment processing (use localhost for local testing)
                    const response = await fetch(window.location.hostname === 'localhost' ?
                        'http://localhost:3000/api/process-booking-payment' :
                        '/.netlify/functions/process-booking-payment', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            sourceId: token,
                            amount: Math.round(currentBookingData.totalAmount * 100), // Convert to cents
                            currency: 'USD',
                            booking: currentBookingData,
                            saveCard: shouldSaveCard,
                            usingSavedCard: !!selectedSavedCard
                        })
                    });

                    if (response.ok) {
                        const result = await response.json();
                        showBookingSuccess();
                    } else {
                        throw new Error('Payment processing failed');
                    }
                } catch (error) {
                    console.error('Payment processing failed:', error);
                    alert('Payment failed: ' + error.message + '\n\nPlease try again or contact us at (443) 528-5571');

                    // Hide loading and show error
                    document.getElementById('booking-loading').style.display = 'none';
                    document.getElementById('card-errors').textContent = 'Payment failed. Please try again.';

                    // Don't proceed to success - let user retry
                }
            }

            // Show booking success
            function showBookingSuccess() {
                document.getElementById('booking-loading').style.display = 'none';
                showStep(3);

                // Track booking completed
                trackBookingCompleted('booking_' + Date.now(), currentBookingData.totalAmount);

                // Send confirmation email (you'd implement this on your backend)
                sendBookingConfirmation();
            }

            // Send booking confirmation
            async function sendBookingConfirmation() {
                try {
                    // This would be implemented on your backend
                    const emailData = {
                        to: currentBookingData.customerInfo.email,
                        customerName: `${currentBookingData.customerInfo.firstName} ${currentBookingData.customerInfo.lastName}`,
                        services: currentBookingData.selectedServices,
                        date: currentBookingData.selectedDate.toLocaleDateString(),
                        time: currentBookingData.selectedTime,
                        total: currentBookingData.totalAmount,
                        phone: currentBookingData.customerInfo.phone,
                        notes: currentBookingData.customerInfo.notes
                    };

                    console.log('Booking confirmation data:', emailData);
                    // await fetch('/api/send-booking-confirmation', { ... });
                } catch (error) {
                    console.error('Failed to send confirmation email:', error);
                }
            }

            // Show payment error
            function showPaymentError(message) {
                const paymentStatus = document.getElementById('payment-status');
                paymentStatus.innerHTML = `
                    <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
                        <p class="font-semibold">Payment Error</p>
                        <p class="text-sm">${message}</p>
                        <p class="text-sm mt-2">Please try again or contact us at (443) 528-5571</p>
                    </div>
                `;
            }

            // Card Saving Functionality
            let customerCards = [];
            let selectedSavedCard = null;

            // Check for returning customer when email is entered
            async function checkReturningCustomer() {
                const email = document.getElementById('customer-email').value.trim();
                if (!email || !email.includes('@')) return;

                try {
                    const response = await fetch('/api/customer-cards', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ email })
                    });

                    if (response.ok) {
                        const data = await response.json();
                        if (data.cards && data.cards.length > 0) {
                            customerCards = data.cards;
                            showReturningCustomerNotice();
                        }
                    }
                } catch (error) {
                    console.log('Could not check for saved cards:', error);
                }
            }

            // Show returning customer notification
            function showReturningCustomerNotice() {
                document.getElementById('returning-customer-notice').classList.remove('hidden');
            }

            // Setup saved cards UI when payment section is shown
            function setupSavedCardsUI() {
                if (customerCards.length > 0) {
                    const savedCardsSection = document.getElementById('saved-cards-section');
                    const savedCardsList = document.getElementById('saved-cards-list');
                    const newCardSection = document.getElementById('new-card-section');

                    // Show saved cards
                    savedCardsSection.classList.remove('hidden');
                    newCardSection.style.display = 'none';

                    // Populate saved cards list
                    savedCardsList.innerHTML = customerCards.map(card => `
                        <div class="saved-card-option p-3 border border-gray-200 rounded-lg cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-colors" 
                             data-card-id="${card.id}" onclick="selectSavedCard('${card.id}')">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-10 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded text-white text-xs flex items-center justify-center mr-3">
                                        ${card.cardBrand.toUpperCase()}
                                    </div>
                                    <div>
                                        <p class="font-medium text-gray-900">•••• •••• •••• ${card.lastFour}</p>
                                        <p class="text-sm text-gray-500">${card.expMonth}/${card.expYear}</p>
                                    </div>
                                </div>
                                <div class="saved-card-selected hidden">
                                    <svg class="w-5 h-5 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    `).join('');

                    // Setup "use different card" button
                    document.getElementById('use-new-card-btn').onclick = () => {
                        newCardSection.style.display = 'block';
                        savedCardsSection.classList.add('hidden');
                        selectedSavedCard = null;
                        initializeSquareCard();
                    };

                    // Auto-select first saved card
                    if (customerCards.length > 0) {
                        selectSavedCard(customerCards[0].id);
                    }
                }
            }

            // Select a saved card
            function selectSavedCard(cardId) {
                selectedSavedCard = cardId;
                const payButton = document.getElementById('pay-button');

                // Update UI
                document.querySelectorAll('.saved-card-option').forEach(option => {
                    option.classList.remove('border-purple-400', 'bg-purple-50');
                    option.querySelector('.saved-card-selected').classList.add('hidden');
                });

                const selectedOption = document.querySelector(`[data-card-id="${cardId}"]`);
                selectedOption.classList.add('border-purple-400', 'bg-purple-50');
                selectedOption.querySelector('.saved-card-selected').classList.remove('hidden');

                // Enable pay button
                payButton.disabled = false;
            }

            // Initialize calendar FIRST and independently 
            document.addEventListener('DOMContentLoaded', async function () {
                // Calendar MUST work - initialize immediately
                await initializeBookingCalendar();

                // Other functions
                try {
                    initializeServiceSelection();
                    initializeFadeInEffects();
                    initializeButtonStates();
                    initializeCarouselGallery();
                    initializeSquarePayments();
                } catch (error) {
                    console.log("Non-critical error:", error);
                    // Calendar still works even if other features fail
                }
            });

            // Initialize button states
            function initializeButtonStates() {
                const nextBtn2 = document.getElementById('next-to-step-2');

                if (nextBtn2) {
                    nextBtn2.disabled = true;
                    nextBtn2.classList.add('opacity-50');
                }
            }

            // Handle booking transition
            function proceedToBooking() {
                console.log('proceedToBooking called');
                updateServiceSummary();
                showStep(2);

                // Reset booking flow
                document.getElementById('time-selection').style.display = 'none';
                document.getElementById('customer-info').style.display = 'none';
                document.getElementById('payment-section').style.display = 'none';

                // Clear previous selections
                document.querySelectorAll('.calendar-day').forEach(cell => cell.classList.remove('selected'));
                document.querySelectorAll('.time-slot').forEach(slot => slot.classList.remove('selected'));

                // Reset booking data
                currentBookingData = {
                    selectedServices: [],
                    selectedDate: null,
                    selectedTime: null,
                    customerInfo: {},
                    totalAmount: 0
                };
            }

            // Update service summary
            function updateServiceSummary() {
                console.log('updateServiceSummary called');

                // Use existing booking data rather than recalculating
                const selectedServices = currentBookingData.selectedServices || [];
                const totalPrice = currentBookingData.totalAmount || 0;

                // If no services in booking data, calculate them
                if (selectedServices.length === 0) {
                    updateSelectedServicesData();
                }

                console.log('Selected services:', currentBookingData.selectedServices);
                console.log('Total price:', currentBookingData.totalAmount);
                console.log('Total duration:', currentBookingData.totalDurationMinutes, 'minutes');

                // Update the summary display with deposit amounts
                const servicesList = document.getElementById('selected-services-list');
                const totalPriceElement = document.getElementById('total-price');
                const depositAmountElement = document.getElementById('deposit-amount');
                const remainingAmountElement = document.getElementById('remaining-amount');

                // Calculate deposit amounts (50% system)
                const depositAmount = currentBookingData.totalAmount * 0.5;
                const remainingAmount = currentBookingData.totalAmount - depositAmount;

                if (servicesList && totalPriceElement && depositAmountElement && remainingAmountElement) {
                    servicesList.innerHTML = currentBookingData.selectedServices.map(service =>
                        `<div class="flex justify-between items-center py-2 border-b border-gray-200">
                            <span>${service.name}</span>
                            <span class="font-semibold">$${service.price}</span>
                            <span class="text-sm text-gray-500 ml-2">(${service.duration})</span>
                        </div>`
                    ).join('');

                    totalPriceElement.textContent = `$${currentBookingData.totalAmount.toFixed(2)}`;
                    depositAmountElement.textContent = `$${depositAmount.toFixed(2)}`;
                    remainingAmountElement.textContent = `$${remainingAmount.toFixed(2)}`;

                    console.log('✅ DEPOSIT SUMMARY UPDATED:', {
                        totalService: `$${currentBookingData.totalAmount.toFixed(2)}`,
                        depositRequired: `$${depositAmount.toFixed(2)}`,
                        remainingBalance: `$${remainingAmount.toFixed(2)}`,
                        totalDuration: `${currentBookingData.totalDurationMinutes} minutes`
                    });
                } else {
                    console.log('Could not find summary elements');
                }
            }

            // Mobile Menu - removed duplicate function

            // Service Selection
            function initializeServiceSelection() {
                const categoryBtns = document.querySelectorAll('.service-category-btn');

                categoryBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const category = btn.dataset.category;
                        showServiceDetails(category);
                    });
                });
            }

            function showServiceDetails(category) {
                const categoriesDiv = document.getElementById('service-categories');
                const detailsDiv = document.getElementById('service-details');
                const optionsDiv = document.getElementById('service-options');

                // Hide categories, show details
                categoriesDiv.classList.add('hidden');
                detailsDiv.classList.remove('hidden');

                // Clear existing options
                optionsDiv.innerHTML = '';

                // Get services for this category
                const services = serviceData[category];

                // Create service options
                services.forEach(service => {
                    const serviceDiv = document.createElement('div');
                    serviceDiv.className = 'service-option border-2 border-gray-200 p-6 rounded-xl cursor-pointer hover:border-primary transition-all';
                    serviceDiv.dataset.service = service.id;
                    serviceDiv.dataset.price = service.price;
                    serviceDiv.dataset.duration = service.duration;
                    serviceDiv.dataset.serviceName = service.name;

                    serviceDiv.innerHTML = `
                    <h3 class="text-xl font-bold mb-2 text-primary">${service.name}</h3>
                    <p class="text-gray-600 mb-3 font-semibold">${service.duration} • $${service.price}</p>
                    <p class="text-sm text-gray-500">${service.description}</p>
                `;

                    serviceDiv.addEventListener('click', () => selectService(serviceDiv));
                    optionsDiv.appendChild(serviceDiv);
                });
            }

            function showCategories() {
                const categoriesDiv = document.getElementById('service-categories');
                const detailsDiv = document.getElementById('service-details');
                const nextBtn = document.getElementById('next-to-step-2');

                // Show categories, hide details
                categoriesDiv.classList.remove('hidden');
                detailsDiv.classList.add('hidden');

                // Clear all service selections and indicators
                document.querySelectorAll('.service-option.selected').forEach(option => {
                    option.classList.remove('selected');
                    option.style.borderColor = '#d1d5db';
                    option.style.backgroundColor = 'transparent';
                    option.style.transform = '';
                });

                // Remove all selection indicators
                document.querySelectorAll('.selection-indicator').forEach(indicator => {
                    indicator.remove();
                });

                // Reset booking data
                currentBookingData.selectedServices = [];
                currentBookingData.totalAmount = 0;
                currentBookingData.totalDurationMinutes = 0;
                currentBookingData.slotsNeeded = 1;

                // Reset old booking state (legacy)
                bookingState.selectedService = null;
                bookingState.selectedServiceName = null;
                bookingState.price = 0;
                bookingState.duration = null;

                // Reset next button
                nextBtn.disabled = true;
                nextBtn.classList.add('opacity-50');
                nextBtn.textContent = 'Next: Book & Pay';
            }

            function selectService(serviceDiv) {
                // Toggle selected class
                if (serviceDiv.classList.contains('selected')) {
                    // Deselect
                    serviceDiv.classList.remove('selected');
                    serviceDiv.style.borderColor = '#d1d5db'; // Proper gray border
                    serviceDiv.style.backgroundColor = 'transparent';
                    serviceDiv.style.transform = ''; // Reset any transforms
                } else {
                    // Select
                    serviceDiv.classList.add('selected');
                    serviceDiv.style.borderColor = '#9B59B6';
                    serviceDiv.style.backgroundColor = 'rgba(155, 89, 182, 0.05)';
                }

                // Update booking data with all selected services
                updateSelectedServicesData();

                // Check if any services are selected
                const selectedServices = document.querySelectorAll('.service-option.selected');
                const nextBtn = document.getElementById('next-to-step-2');

                if (selectedServices.length > 0) {
                    // Enable next button with dynamic text
                    nextBtn.disabled = false;
                    nextBtn.classList.remove('opacity-50');
                    nextBtn.textContent = `Next: Book & Pay (${selectedServices.length} service${selectedServices.length > 1 ? 's' : ''})`;
                } else {
                    // Disable next button
                    nextBtn.disabled = true;
                    nextBtn.classList.add('opacity-50');
                    nextBtn.textContent = 'Next: Book & Pay';
                }

                // Clean selection without animations

                // Update selection counter in top-right of service div
                updateServiceSelectionIndicator();
            }

            // Add visual selection indicators to service options
            function updateServiceSelectionIndicator() {
                const selectedServices = document.querySelectorAll('.service-option.selected');

                // Remove all existing indicators
                document.querySelectorAll('.selection-indicator').forEach(indicator => {
                    indicator.remove();
                });

                // Add numbered indicators to selected services
                selectedServices.forEach((service, index) => {
                    const indicator = document.createElement('div');
                    indicator.className = 'selection-indicator';
                    indicator.style.cssText = `
                        position: absolute;
                        top: 10px;
                        right: 10px;
                        background: #9B59B6;
                        color: white;
                        border-radius: 50%;
                        width: 24px;
                        height: 24px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 12px;
                        font-weight: bold;
                        z-index: 10;
                    `;
                    indicator.textContent = index + 1;

                    service.style.position = 'relative';
                    service.appendChild(indicator);
                });
            }

            // Update selected services data with proper duration calculation
            function updateSelectedServicesData() {
                const selectedServices = [];
                let totalPrice = 0;
                let totalDurationMinutes = 0;

                document.querySelectorAll('.service-option.selected').forEach(option => {
                    const serviceId = option.dataset.service;
                    const serviceName = option.querySelector('h3').textContent;
                    const servicePrice = parseFloat(option.dataset.price);
                    const serviceDuration = option.dataset.duration;

                    // Convert duration to minutes for calculation
                    const durationMinutes = parseDurationToMinutes(serviceDuration);

                    selectedServices.push({
                        id: serviceId,
                        name: serviceName,
                        price: servicePrice,
                        duration: serviceDuration,
                        durationMinutes: durationMinutes
                    });

                    totalPrice += servicePrice;
                    totalDurationMinutes += durationMinutes;
                });

                // Calculate slots needed with Mary's specific requirements
                let slotsNeeded;

                if (totalDurationMinutes <= 30) {
                    slotsNeeded = 1; // Small services: can share 30-minute slots
                } else if (totalDurationMinutes === 45) {
                    slotsNeeded = 1; // Brazilian Wax: 1-hour slot
                } else if (totalDurationMinutes <= 60) {
                    slotsNeeded = 2; // 60-minute services need 2-hour slots (buffer for Mary)
                } else if (totalDurationMinutes === 90) {
                    slotsNeeded = 2; // 90-minute services need 2-hour slots (buffer for Mary)
                } else if (totalDurationMinutes === 120) {
                    slotsNeeded = 3; // 120-minute services need 3-hour slots (buffer for Mary)
                } else if (totalDurationMinutes === 180) {
                    slotsNeeded = 3; // 180-minute services need 3-hour slots
                } else {
                    // Fallback for any other combination
                    slotsNeeded = Math.ceil(totalDurationMinutes / 60);
                }

                currentBookingData.selectedServices = selectedServices;
                currentBookingData.totalAmount = totalPrice;
                currentBookingData.totalDurationMinutes = totalDurationMinutes;
                currentBookingData.slotsNeeded = slotsNeeded;



                // Re-render calendar with new service duration to show correct availability
                if (typeof renderCalendar === 'function' && typeof currentMonth !== 'undefined') {
                    renderCalendar(currentMonth, currentYear).catch(err => {
                        console.log('Calendar re-render failed:', err);
                    });
                }

                // Track booking started when first service is selected
                if (selectedServices.length > 0) {
                    trackBookingStarted();
                }
            }

            // Helper function to convert duration string to minutes
            function parseDurationToMinutes(durationStr) {
                const match = durationStr.match(/(\d+)\s*(min|hour|hr)/i);
                if (!match) return 60; // Default to 1 hour if can't parse

                const value = parseInt(match[1]);
                const unit = match[2].toLowerCase();

                if (unit === 'min') {
                    return value;
                } else if (unit === 'hour' || unit === 'hr') {
                    return value * 60;
                }

                return 60; // Default fallback
            }

            // Duplicate calendar function removed - using initializeBookingCalendar() instead

            // Time Slots
            function initializeTimeSlots() {
                const timeSlots = document.querySelectorAll('.time-slot');

                timeSlots.forEach(slot => {
                    slot.addEventListener('click', () => {
                        timeSlots.forEach(s => s.classList.remove('selected'));
                        slot.classList.add('selected');

                        bookingState.selectedTime = slot.textContent;
                        checkStep2Complete();
                    });
                });
            }

            function checkStep2Complete() {
                const nextBtn = document.getElementById('next-to-step-3');
                if (bookingState.selectedDate && bookingState.selectedTime) {
                    nextBtn.disabled = false;
                    nextBtn.classList.remove('opacity-50');
                }
            }

            // Step Navigation
            function showStep(stepNumber) {
                // Prevent any default scrolling behavior
                event?.preventDefault();

                // Hide all steps
                document.querySelectorAll('.booking-step').forEach(step => {
                    step.classList.remove('active');
                });

                // Show selected step
                const stepElement = document.getElementById(`step-${stepNumber}`);
                stepElement.classList.add('active');

                // For success pages (step 3+), scroll to show the step properly
                if (stepNumber >= 3) {
                    // Smooth scroll to the step element
                    stepElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                } else {
                    // For other steps, preserve scroll position
                    const currentScrollY = window.scrollY;
                    window.scrollTo({
                        top: currentScrollY,
                        left: 0,
                        behavior: 'instant'
                    });
                }

                // Update progress indicators with modern styling
                document.querySelectorAll('.step').forEach((step, index) => {
                    const stepNum = index + 1;
                    const isActive = stepNum === stepNumber;
                    const isCompleted = stepNum < stepNumber;

                    step.classList.toggle('active', isActive);

                    const stepNumber_elem = step.querySelector('.step-number');
                    const stepText = step.querySelector('div:last-child');

                    if (isActive) {
                        // Active step - purple gradient
                        stepNumber_elem.className = 'step-number w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold text-lg flex items-center justify-center shadow-lg mb-3 transition-all duration-300';
                        stepText.className = 'text-sm font-semibold text-purple-700 whitespace-nowrap';
                    } else if (isCompleted) {
                        // Completed step - green
                        stepNumber_elem.className = 'step-number w-12 h-12 rounded-full bg-green-500 text-white font-bold text-lg flex items-center justify-center shadow-lg mb-3 transition-all duration-300';
                        stepNumber_elem.innerHTML = '✓';
                        stepText.className = 'text-sm font-semibold text-green-600 whitespace-nowrap';
                    } else {
                        // Inactive step - gray
                        stepNumber_elem.className = 'step-number w-12 h-12 rounded-full bg-gray-200 text-gray-500 font-bold text-lg flex items-center justify-center shadow-md mb-3 transition-all duration-300';
                        stepNumber_elem.innerHTML = stepNum;
                        stepText.className = 'text-sm font-medium text-gray-500 whitespace-nowrap';
                    }
                });

                // Animate progress bar
                const progressBar = document.getElementById('progress-bar');
                if (progressBar) {
                    if (stepNumber >= 2) {
                        progressBar.style.transform = 'translateX(0)';
                    } else {
                        progressBar.style.transform = 'translateX(-100%)';
                    }
                }

                // Update booking summary on step 3
                if (stepNumber === 3) {
                    updateBookingSummary();
                }
            }

            function updateBookingSummary() {
                const summary = document.getElementById('booking-summary');

                summary.innerHTML = `
                <h3 class="font-bold text-lg mb-4">Booking Summary</h3>
                <div class="space-y-2">
                    <div class="flex justify-between">
                        <span>Service:</span>
                        <span class="font-semibold">${bookingState.selectedServiceName || 'Not selected'}</span>
        </div>
                    <div class="flex justify-between">
            <span>Duration:</span>
                        <span class="font-semibold">${bookingState.duration || 'Not selected'}</span>
        </div>
                    <div class="flex justify-between">
                        <span>Date:</span>
                        <span class="font-semibold">${bookingState.selectedDate || 'Not selected'}</span>
        </div>
                    <div class="flex justify-between">
                        <span>Time:</span>
                        <span class="font-semibold">${bookingState.selectedTime || 'Not selected'}</span>
                    </div>
                    <div class="flex justify-between text-lg font-bold pt-2 border-t">
            <span>Total:</span>
                        <span class="text-primary">$${bookingState.price}</span>
        </div>
                </div>
    `;
            }

            function submitBooking() {
                // Get form data
                const form = document.getElementById('booking-form');
                const formData = new FormData(form);
                const firstName = form.querySelector('input[type="text"]').value;
                const lastName = form.querySelectorAll('input[type="text"]')[1].value;
                const email = form.querySelector('input[type="email"]').value;
                const phone = form.querySelector('input[type="tel"]').value;

                // Validate required fields
                if (!firstName || !lastName || !email || !phone) {
                    alert('Please fill in all required fields');
                    return;
                }

                // Update final booking summary
                const finalSummary = document.getElementById('final-booking-summary');

                finalSummary.innerHTML = `
                <h4 class="font-bold mb-3">Appointment Confirmed</h4>
                <div class="space-y-2 text-sm">
                    <div class="flex justify-between">
                        <span>Client:</span>
                        <span class="font-medium">${firstName} ${lastName}</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Email:</span>
                        <span class="font-medium">${email}</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Phone:</span>
                        <span class="font-medium">${phone}</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Service:</span>
                        <span class="font-medium">${bookingState.selectedServiceName}</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Duration:</span>
                        <span class="font-medium">${bookingState.duration}</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Date:</span>
                        <span class="font-medium">${bookingState.selectedDate}</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Time:</span>
                        <span class="font-medium">${bookingState.selectedTime}</span>
                    </div>
                    <div class="flex justify-between font-bold text-base pt-2 border-t border-gray-300">
                        <span>Total:</span>
                        <span class="text-primary">$${bookingState.price}</span>
                    </div>
                </div>
            `;

                // In a real app, this would send data to your backend
                // For now, just show the success step
                showStep(4);
            }

            function resetBooking() {
                // Reset booking state
                bookingState = {
                    selectedService: null,
                    selectedServiceName: null,
                    selectedDate: null,
                    selectedTime: null,
                    price: 0,
                    duration: null
                };

                // Reset Square booking data
                currentBookingData = {
                    selectedServices: [],
                    selectedDate: null,
                    selectedTime: null,
                    customerInfo: {},
                    totalAmount: 0
                };

                // Reset UI selections
                document.querySelectorAll('.service-option').forEach(opt => opt.classList.remove('selected'));
                document.querySelectorAll('.calendar-day').forEach(day => day.classList.remove('selected'));
                document.querySelectorAll('.time-slot').forEach(slot => slot.classList.remove('selected'));

                // Show categories, hide details
                const categoriesDiv = document.getElementById('service-categories');
                const detailsDiv = document.getElementById('service-details');
                if (categoriesDiv) categoriesDiv.classList.remove('hidden');
                if (detailsDiv) detailsDiv.classList.add('hidden');

                // Hide booking sections
                document.getElementById('time-selection').style.display = 'none';
                document.getElementById('customer-info').style.display = 'none';
                document.getElementById('payment-section').style.display = 'none';
                document.getElementById('booking-loading').style.display = 'none';

                // Clear customer form
                document.getElementById('customer-first-name').value = '';
                document.getElementById('customer-last-name').value = '';
                document.getElementById('customer-email').value = '';
                document.getElementById('customer-phone').value = '';
                document.getElementById('customer-notes').value = '';

                // Clear payment status
                document.getElementById('payment-status').innerHTML = '';

                // Reset form
                const form = document.getElementById('booking-form');
                if (form) form.reset();

                // Go back to step 1
                showStep(1);

                // Reset and disable next buttons
                const nextBtn2 = document.getElementById('next-to-step-2');
                const nextBtn3 = document.getElementById('next-to-step-3');

                if (nextBtn2) {
                    nextBtn2.disabled = true;
                    nextBtn2.classList.add('opacity-50');
                }
                if (nextBtn3) {
                    nextBtn3.disabled = true;
                    nextBtn3.classList.add('opacity-50');
                }

                // Reset pay button
                const payButton = document.getElementById('pay-button');
                if (payButton) {
                    payButton.disabled = true;
                    payButton.querySelector('#pay-button-text').textContent = 'Pay 50% Deposit';
                }
            }

            // Fade in effects
            function initializeFadeInEffects() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                });

                document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
            }

            // Smooth scrolling for navigation links (exclude booking navigation buttons)
            document.querySelectorAll('a[href^="#"]:not([onclick])').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            // Carousel Gallery functionality
            function initializeCarouselGallery() {
                let currentSlide = 0;
                const totalSlides = 5;
                const carousel = document.getElementById('gallery-carousel');
                const slideCounter = document.getElementById('slide-counter');
                const thumbNavs = document.querySelectorAll('.thumb-nav');
                const prevBtn = document.querySelector('.prev-btn');
                const nextBtn = document.querySelector('.next-btn');

                function updateCarousel() {
                    if (carousel) {
                        carousel.style.transform = `translateX(-${currentSlide * 100}%)`;
                        slideCounter.textContent = currentSlide + 1;

                        // Update thumbnail navigation
                        thumbNavs.forEach((thumb, index) => {
                            thumb.classList.toggle('active', index === currentSlide);
                            if (index === currentSlide) {
                                thumb.querySelector('div').classList.remove('border-gray-200');
                                thumb.querySelector('div').classList.add('border-primary');
                                thumb.querySelector('p').classList.add('font-semibold');
                            } else {
                                thumb.querySelector('div').classList.remove('border-primary');
                                thumb.querySelector('div').classList.add('border-gray-200');
                                thumb.querySelector('p').classList.remove('font-semibold');
                            }
                        });
                    }
                }

                function nextSlide() {
                    currentSlide = (currentSlide + 1) % totalSlides;
                    updateCarousel();
                }

                function prevSlide() {
                    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                    updateCarousel();
                }

                function goToSlide(slideIndex) {
                    currentSlide = slideIndex;
                    updateCarousel();
                }

                // Event listeners
                if (nextBtn) nextBtn.addEventListener('click', nextSlide);
                if (prevBtn) prevBtn.addEventListener('click', prevSlide);

                thumbNavs.forEach((thumb, index) => {
                    thumb.addEventListener('click', () => goToSlide(index));
                });

                // Auto-advance carousel COMPLETELY DISABLED - user control only
                // No automatic movement - carousel only moves via arrows or swipe

                // Lightbox for images
                const carouselImages = document.querySelectorAll('.carousel-item img');
                const lightbox = createLightbox();

                carouselImages.forEach(image => {
                    image.addEventListener('click', () => {
                        const lightboxImg = lightbox.querySelector('img');
                        lightboxImg.src = image.src;
                        lightboxImg.alt = image.alt;
                        lightbox.style.display = 'flex';
                    });
                });

                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') prevSlide();
                    if (e.key === 'ArrowRight') nextSlide();
                });

                // Touch/swipe support for mobile
                let touchStartX = 0;
                let touchEndX = 0;

                if (carouselContainer) {
                    carouselContainer.addEventListener('touchstart', (e) => {
                        touchStartX = e.changedTouches[0].screenX;
                    });

                    carouselContainer.addEventListener('touchend', (e) => {
                        touchEndX = e.changedTouches[0].screenX;
                        handleSwipe();
                    });

                    function handleSwipe() {
                        const swipeThreshold = 50;
                        const swipeDistance = touchEndX - touchStartX;

                        if (Math.abs(swipeDistance) > swipeThreshold) {
                            if (swipeDistance > 0) {
                                prevSlide(); // Swipe right = previous slide
                            } else {
                                nextSlide(); // Swipe left = next slide
                            }
                        }
                    }
                }
            }

            function createLightbox() {
                // Create lightbox if it doesn't exist
                let lightbox = document.querySelector('.lightbox');
                if (!lightbox) {
                    lightbox = document.createElement('div');
                    lightbox.className = 'lightbox';
                    lightbox.innerHTML = `
                    <span class="close">&times;</span>
                    <img src="" alt="">
                `;
                    document.body.appendChild(lightbox);

                    // Close lightbox functionality
                    lightbox.addEventListener('click', (e) => {
                        if (e.target === lightbox || e.target.classList.contains('close')) {
                            lightbox.style.display = 'none';
                        }
                    });

                    // Close with Escape key
                    document.addEventListener('keydown', (e) => {
                        if (e.key === 'Escape' && lightbox.style.display === 'flex') {
                            lightbox.style.display = 'none';
                        }
                    });
                }
                return lightbox;
            }

            // Mobile menu toggle
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');

            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const isHidden = mobileMenu.style.display === 'none' || mobileMenu.style.display === '';
                    if (isHidden) {
                        mobileMenu.style.display = 'block';
                        setTimeout(() => mobileMenu.classList.add('show'), 10);
                    } else {
                        mobileMenu.classList.remove('show');
                        setTimeout(() => mobileMenu.style.display = 'none', 300);
                    }
                    mobileMenuBtn.classList.toggle('active');
                });

                // Close menu when clicking a link
                mobileMenu.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        mobileMenu.classList.remove('show');
                        setTimeout(() => mobileMenu.style.display = 'none', 300);
                        mobileMenuBtn.classList.remove('active');
                    });
                });
            }

            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (mobileMenu && mobileMenuBtn && mobileMenu.style.display !== 'none' && !mobileMenuBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
                    mobileMenu.classList.remove('show');
                    setTimeout(() => mobileMenu.style.display = 'none', 300);
                    mobileMenuBtn.classList.remove('active');
                }
            });

            // Contact form handling with same-page success message
            document.getElementById('contactForm').addEventListener('submit', async function (e) {
                e.preventDefault();

                const form = e.target;
                const submitBtn = document.getElementById('submitBtn');
                const successMessage = document.getElementById('successMessage');

                // Show loading state
                const originalText = submitBtn.textContent;
                submitBtn.textContent = 'Sending...';
                submitBtn.disabled = true;

                try {
                    const formData = new FormData(form);
                    const response = await fetch(form.action, {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });

                    if (response.ok) {
                        // Success! Show success message and reset form
                        successMessage.classList.remove('hidden');
                        form.reset();

                        // Scroll to success message smoothly
                        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });

                        // Hide success message after 8 seconds
                        setTimeout(() => {
                            successMessage.classList.add('hidden');
                        }, 8000);
                    } else {
                        throw new Error('Form submission failed');
                    }
                } catch (error) {
                    // Show error message (fallback to alert for simplicity)
                    alert('Sorry, there was an error sending your message. Please try again or call us directly.');
                    console.error('Form submission error:', error);
                } finally {
                    // Reset button state
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }
            });

            // FAQ Toggle Functionality
            function toggleFAQ(faqNumber) {
                const faqItem = document.querySelector(`.faq-item:nth-child(${faqNumber})`);
                const answer = faqItem.querySelector('.faq-answer');
                const icon = faqItem.querySelector('.faq-icon');

                if (answer.classList.contains('hidden')) {
                    // Open the FAQ
                    answer.classList.remove('hidden');
                    icon.style.transform = 'rotate(180deg)';

                    // Track FAQ interaction
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'faq_opened', {
                            'event_category': 'engagement',
                            'event_label': `faq_${faqNumber}`
                        });
                    }
                } else {
                    // Close the FAQ
                    answer.classList.add('hidden');
                    icon.style.transform = 'rotate(0deg)';
                }
            }

            // Legal Section Toggle
            function showLegalSection(section) {
                // Hide all legal sections first
                document.querySelectorAll('.legal-section').forEach(sec => sec.classList.add('hidden'));

                // Show the selected section
                const targetSection = document.getElementById(`${section}-section`);
                if (targetSection) {
                    targetSection.classList.remove('hidden');
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                }
            }

            function closeLegalSection(section) {
                const targetSection = document.getElementById(`${section}-section`);
                if (targetSection) {
                    targetSection.classList.add('hidden');
                }
            }

            // Reviews Carousel Functionality
            let currentReviewSlide = 0;
            let reviewsPerView = 3; // Default for desktop
            const reviewsTrack = document.getElementById('reviews-track');
            const reviewCards = document.querySelectorAll('.review-card');
            const totalReviews = reviewCards.length;
            const reviewDots = document.querySelectorAll('.review-dot');

            // Calculate reviews per view based on screen size
            function calculateReviewsPerView() {
                if (window.innerWidth < 768) {
                    reviewsPerView = 1; // Mobile
                } else if (window.innerWidth < 1024) {
                    reviewsPerView = 2; // Tablet
                } else {
                    reviewsPerView = 3; // Desktop
                }
            }

            // Update carousel position
            function updateReviewsCarousel() {
                const translateX = -(currentReviewSlide * (100 / reviewsPerView));
                reviewsTrack.style.transform = `translateX(${translateX}%)`;

                // Update dots
                reviewDots.forEach((dot, index) => {
                    if (index === Math.floor(currentReviewSlide / reviewsPerView)) {
                        dot.classList.remove('bg-gray-300');
                        dot.classList.add('bg-primary');
                    } else {
                        dot.classList.remove('bg-primary');
                        dot.classList.add('bg-gray-300');
                    }
                });

                // Track carousel interaction
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'reviews_carousel_slide', {
                        'event_category': 'engagement',
                        'event_label': `slide_${currentReviewSlide}`
                    });
                }
            }

            // Next review
            function nextReview() {
                const maxSlides = Math.ceil(totalReviews / reviewsPerView) - 1;
                currentReviewSlide = currentReviewSlide >= maxSlides ? 0 : currentReviewSlide + 1;
                updateReviewsCarousel();
            }

            // Previous review
            function prevReview() {
                const maxSlides = Math.ceil(totalReviews / reviewsPerView) - 1;
                currentReviewSlide = currentReviewSlide <= 0 ? maxSlides : currentReviewSlide - 1;
                updateReviewsCarousel();
            }

            // Initialize carousel when DOM is loaded
            document.addEventListener('DOMContentLoaded', function () {
                calculateReviewsPerView();
                updateReviewsCarousel();

                // Navigation buttons
                document.getElementById('next-review').addEventListener('click', nextReview);
                document.getElementById('prev-review').addEventListener('click', prevReview);

                // Dot navigation
                reviewDots.forEach((dot, index) => {
                    dot.addEventListener('click', () => {
                        currentReviewSlide = index * reviewsPerView;
                        if (currentReviewSlide >= totalReviews) {
                            currentReviewSlide = totalReviews - reviewsPerView;
                        }
                        updateReviewsCarousel();
                    });
                });

                // Touch/swipe functionality
                let startX = 0;
                let startY = 0;
                let isScrolling = false;

                reviewsTrack.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                    isScrolling = false;
                });

                reviewsTrack.addEventListener('touchmove', (e) => {
                    if (!startX || !startY) return;

                    const diffX = startX - e.touches[0].clientX;
                    const diffY = startY - e.touches[0].clientY;

                    if (Math.abs(diffX) > Math.abs(diffY)) {
                        isScrolling = true;
                        e.preventDefault(); // Prevent vertical scroll when swiping horizontally
                    }
                });

                reviewsTrack.addEventListener('touchend', (e) => {
                    if (!startX || !isScrolling) return;

                    const diffX = startX - e.changedTouches[0].clientX;
                    const threshold = 50; // Minimum distance for swipe

                    if (Math.abs(diffX) > threshold) {
                        if (diffX > 0) {
                            nextReview(); // Swipe left - next
                        } else {
                            prevReview(); // Swipe right - previous
                        }
                    }

                    startX = 0;
                    startY = 0;
                    isScrolling = false;
                });

                // Auto-scroll every 5 seconds (optional)
                setInterval(() => {
                    nextReview();
                }, 5000);

                // Recalculate on window resize
                window.addEventListener('resize', () => {
                    calculateReviewsPerView();
                    updateReviewsCarousel();
                });
            });

        </script>

        <!-- Legal Compliance Sections (Hidden by default) -->
        <!-- Privacy Policy -->
        <div id="privacy-section"
            class="legal-section hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg max-w-4xl max-h-screen overflow-y-auto">
                <div class="sticky top-0 bg-white border-b p-6">
                    <div class="flex justify-between items-center">
                        <h2 class="text-2xl font-bold text-gray-800">Privacy Policy</h2>
                        <button onclick="closeLegalSection('privacy')" class="text-gray-500 hover:text-gray-700">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="p-6 space-y-6">
                    <p class="text-sm text-gray-600"><strong>Effective Date:</strong> January 1, 2024</p>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">1. Information We Collect</h3>
                        <p class="text-gray-700 leading-relaxed">We collect information you provide directly to us, such
                            as when you create an account, make a booking, or contact us. This may include your name,
                            email address, phone number, payment information, and service preferences.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">2. How We Use Your Information</h3>
                        <p class="text-gray-700 leading-relaxed">We use your information to provide, maintain, and
                            improve our services, process transactions, send you technical notices and support messages,
                            and communicate with you about our services.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">3. Information Sharing</h3>
                        <p class="text-gray-700 leading-relaxed">We do not sell, trade, or otherwise transfer your
                            personal information to third parties without your consent, except as described in this
                            privacy policy or as required by law.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">4. Data Security</h3>
                        <p class="text-gray-700 leading-relaxed">We implement appropriate security measures to protect
                            your personal information against unauthorized access, alteration, disclosure, or
                            destruction.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">5. Cookies and Tracking</h3>
                        <p class="text-gray-700 leading-relaxed">We use cookies and similar tracking technologies to
                            enhance your experience, analyze site usage, and assist in our marketing efforts. You can
                            control cookies through your browser settings.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">6. Your Rights</h3>
                        <p class="text-gray-700 leading-relaxed">You have the right to access, update, or delete your
                            personal information. You may also opt out of certain communications from us.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">7. Contact Us</h3>
                        <p class="text-gray-700 leading-relaxed">If you have any questions about this Privacy Policy,
                            please contact us at beautywithmare@gmail.com or (443) 528-5571.</p>
                    </section>
                </div>
            </div>
        </div>

        <!-- Terms of Service -->
        <div id="terms-section"
            class="legal-section hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg max-w-4xl max-h-screen overflow-y-auto">
                <div class="sticky top-0 bg-white border-b p-6">
                    <div class="flex justify-between items-center">
                        <h2 class="text-2xl font-bold text-gray-800">Terms of Service</h2>
                        <button onclick="closeLegalSection('terms')" class="text-gray-500 hover:text-gray-700">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="p-6 space-y-6">
                    <p class="text-sm text-gray-600"><strong>Effective Date:</strong> January 1, 2024</p>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">1. Acceptance of Terms</h3>
                        <p class="text-gray-700 leading-relaxed">By using our services, you agree to these Terms of
                            Service. If you do not agree, please do not use our services.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">2. Services</h3>
                        <p class="text-gray-700 leading-relaxed">BeautyWithMare provides professional beauty services
                            including but not limited to teeth whitening, powder brows, lash extensions, facials, and
                            related beauty treatments.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">3. Booking and Payment</h3>
                        <p class="text-gray-700 leading-relaxed">A 50% deposit is required to secure your appointment.
                            With 48+ hours notice, full 50% deposit refund available. With 24-48 hours notice,
                            50% of deposit is refundable. Full payment is due at the time of service.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">4. Cancellation Policy</h3>
                        <p class="text-gray-700 leading-relaxed">Cancellations with 48+ hours notice receive full 50%
                            deposit refund. Cancellations with 24-48 hours notice receive 50% deposit refund.
                            Cancellations with less than 24 hours notice or no-shows will forfeit the full deposit.
                            Emergency situations will be handled on a case-by-case basis.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">5. Health and Safety</h3>
                        <p class="text-gray-700 leading-relaxed">Clients must disclose any allergies, medical
                            conditions, or medications that may affect treatment. Certain services are not recommended
                            during pregnancy or breastfeeding.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">6. Service Results</h3>
                        <p class="text-gray-700 leading-relaxed">Results may vary by individual. We make no guarantees
                            about specific outcomes, though we strive for client satisfaction and quality service
                            delivery.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">7. Liability</h3>
                        <p class="text-gray-700 leading-relaxed">Our liability is limited to the cost of the service
                            provided. Clients assume responsibility for following aftercare instructions and disclosing
                            relevant health information.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">8. Contact Information</h3>
                        <p class="text-gray-700 leading-relaxed">For questions about these terms, contact us at
                            beautywithmare@gmail.com or (443) 528-5571.</p>
                    </section>
                </div>
            </div>
        </div>

        <!-- Cookie Policy -->
        <div id="cookies-section"
            class="legal-section hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg max-w-4xl max-h-screen overflow-y-auto">
                <div class="sticky top-0 bg-white border-b p-6">
                    <div class="flex justify-between items-center">
                        <h2 class="text-2xl font-bold text-gray-800">Cookie Policy</h2>
                        <button onclick="closeLegalSection('cookies')" class="text-gray-500 hover:text-gray-700">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="p-6 space-y-6">
                    <p class="text-sm text-gray-600"><strong>Effective Date:</strong> January 1, 2024</p>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">1. What Are Cookies</h3>
                        <p class="text-gray-700 leading-relaxed">Cookies are small text files stored on your device when
                            you visit our website. They help us provide a better user experience and understand how our
                            site is used.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">2. Types of Cookies We Use</h3>
                        <ul class="text-gray-700 leading-relaxed space-y-2">
                            <li><strong>Essential Cookies:</strong> Required for basic site functionality and booking
                                system</li>
                            <li><strong>Analytics Cookies:</strong> Help us understand site usage and improve
                                performance</li>
                            <li><strong>Marketing Cookies:</strong> Used for targeted advertising and remarketing</li>
                            <li><strong>Preference Cookies:</strong> Remember your settings and preferences</li>
                        </ul>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">3. Third-Party Cookies</h3>
                        <p class="text-gray-700 leading-relaxed">We use Google Analytics and Facebook Pixel cookies to
                            analyze site traffic and improve our marketing efforts. These services have their own
                            privacy policies.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">4. Managing Cookies</h3>
                        <p class="text-gray-700 leading-relaxed">You can control and delete cookies through your browser
                            settings. Note that disabling cookies may affect site functionality and your user
                            experience.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">5. Updates to This Policy</h3>
                        <p class="text-gray-700 leading-relaxed">We may update this Cookie Policy from time to time.
                            Changes will be posted on this page with an updated effective date.</p>
                    </section>

                    <section>
                        <h3 class="text-lg font-semibold mb-3">6. Contact Us</h3>
                        <p class="text-gray-700 leading-relaxed">Questions about our use of cookies? Contact us at
                            raczniakservices@gmail.com.</p>
                    </section>
                </div>
            </div>
        </div>

        <!-- Raczniak Digital Branding -->
        <div class="rds-brand">
            <span class="brand-icon">◆</span>RDS Digital
        </div>

</body>

</html>